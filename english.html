<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>API Integration</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="http://www.braspag.com.br/site/wp-content/themes/braspag/img/logo-topo.png" rel="shortcut icon" type="image/x-icon" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

    <script>
    $(function() {
        setupLanguages(["json","shell"]);

        var _wr = function(type) {
            var orig = history[type];
            return function() {
                var rv = orig.apply(this, arguments);
                var e = new Event(type);

                e.arguments = arguments;
                window.dispatchEvent(e);
                return rv;
            };
        };

        history.pushState = _wr('pushState'), history.replaceState = _wr('replaceState');

        window.onhashchange = function() {
            ga('send', 'event', 'navigation','click', window.location.href);
        };

        window.addEventListener('replaceState', function(e) {
            ga('send', 'event', 'navigation','scroll', window.location.href);
        });

        window.addEventListener('languagechange', function(e) {
            ga('send', 'event', 'language','change', e.detail);
        });
    });

    </script>
</head>

<body class="english">
    <a href="#" id="nav-button">
        <span>
            NAV
            <img src="images/navbar.png" />
        </span>
    </a>
    <div class="tocify-wrapper">
        <ul class="languages">
            <li class="english"><a href="english.html" title="English version">English version</a></li>
            <li class="portuguese"><a href="index.html" title="Versão em português">Versão em português</a></li>
        </ul>
        <img src="images/logo.png" />
        <div class="lang-selector">
            <a href="#" data-language-name="json">JSON</a>
            <a href="#" data-language-name="shell">cURL</a>
        </div>
        <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
        <div id="toc">
        </div>
    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">
                <h1 id="api-integration">API Integration</h1>

<p>The purpose of this documentation is to guide the developer on the integration with Braspag API, describing the features, methods to be used, listing information to be sent and received, and providing examples.</p>

<p>The integration mechanism with Braspag is simple, if you have intermediate knowledge in web programming language - HTTP / HTTPS requests and JSON file manipulation -, you are perfectly able to deploy Braspag solution successfully.</p>

<p>In this manual you will find the reference of all operations available in the API REST of API. These operations must be performed using your specific key (Merchant ID and Merchant Key) in the respective environment endpoints::</p>

<p>Production Environment:</p>

<ul>
<li><strong>Transaction Request</strong>: https://api.braspag.com.br/</li>
<li><strong>Transaction Consulting</strong>: https://apiquery.braspag.com.br/</li>
</ul>

<p>Sandbox:</p>

<p><strong>Transaction Request</strong>: https://apisandbox.braspag.com.br/
<strong>Transaction Consulting</strong>: https://apiquerysandbox.braspag.com.br/</p>

<p>To perform an operation, combine the base URL of the environment with the operation URL which you want and send it using the HTTP verb as described in the operation.</p>

<h2 id="braspag-support">Braspag Support</h2>

<p>Braspag offers support with great availability, from Monday to Friday, from 9 a.m to 7 p.m. and also offers Emergency Support in Portuguese, English and Spanish language.</p>

<ul>
<li>Web: Suporte Braspag</li>
<li>Email: mailto:suporte@braspag.com.br</li>
<li>Telephone: (11) 2184 0550</li>
</ul>

<h2 id="glossary">Glossary</h2>

<p>To facilitate the understanding, we listed a short glossary with the main technical terms related to ecommerce and financial market (cards and acquiring).</p>

<ul>
<li><strong>AUTHORIZATION</strong>: the authorization is the main operation in ecommerce, and it is through it that the purchase can be concluded. There is the possibility of doing an preauthorization that just sensitize the customer credit card limit.</li>
<li><strong>CAPTURE</strong>: When performing a pre authorization, it is necessary to confirm it before charging the cardholder. The capture operation carries out the pre authorization, and it can be deployed within 5 days (on average) after the date of the pre authorization.</li>
<li><strong>CANCELLATION/ CHARGEBACK</strong>: Cancellation is necessary when, for any reason, you no longer want to continue a sale. In the case of a preauthorization, the cancellation will release the limit of the card that was sensitized in the pre authorization. When the transaction has already been captured or is an Authorization, the cancellation will undo the sale, but must be executed by 23:59:59 on the date of authorization/capture. It is considered a chargeback when placing the call after 23:59:59 of the authorization / capture date.</li>
<li><strong>AUTHENTICATION</strong>: The authentication process makes possible to carry out a sale which will undergo the process of authentication of the bank (card issuer), thus bringing more security to the sale and transferring to the bank the risk of fraud.</li>
<li><strong>PROTECTED CARD</strong>: It is a platform that allows secure storage of sensitive credit card data. This data is transformed into an encrypted code called &ldquo;token&rdquo;, which can be stored in a database. With the platform, the store will be able to offer features like &ldquo;Buy with 1 click&rdquo; and &ldquo;Retry of sending of transaction&rdquo;, always preserving the integrity and the confidentiality of the information.</li>
<li><strong>ANTIFRAUD</strong>: It’s a platform of fraud prevention which offers a detailed risk analysis from online purchases. Each transaction is submitted to more than 260 rules, beyond the specific rules of each sector and generate a risk recommendation in approximately two seconds. This process is completely transparent to the cardholder. According to the predefined criteria, the request can be accepted automatically, refused or sent for manual analysis.</li>
<li><strong>RECURRING</strong>: Smart Recurrence is an indispensable resource for business that need to charge regularly for your products/services. It is widely used for magazine subscriptions, monthly fees, software licenses, among others. The retailers will have different resources to shape their collection, according to their business, since all parameterization is configurable, such as: periodicity, start and end date, number of attempts, interval between them, etc.</li>
<li><strong>RENOVA FÁCIL</strong>: Renova Fácil service brings guarantee and tranquility to business that use the Cielo acquiring service performing recurring sales. It enables the updating of the customer card number, whose numbering or validity has been changed, eliminating the need to contact the customer when the service is renewed and reducing the number of transactions denied. With Renova Fácil you guarantee more convenience to your transactions and offers to your customers. Renova Fácil functionality is transparent to both (the merchant and the customer). The entire integration is made for us, and we are responsible for update the new card data and submit the transaction with the updated information.</li>
</ul>

<h3 id="renova-fÁcil">RENOVA FÁCIL</h3>

<p>Renova Fácil service needs to be enabled by Cielo. Check the Issuing Banks list below</p>

<ul>
<li>Bradesco</li>
<li>Banco do Brasil</li>
<li>Santander</li>
<li>Panamericano</li>
<li>Citi</li>
</ul>

<h1 id="overview">Overview</h1>

<p>Here you can find a summary of all operations available in the REST API of the Paying Agent. These operations can be performed using your specific key in environments (Sandbox and Production).</p>

<h2 id="solution-features">Solution Features</h2>

<p>The API solution of Braspag platform has been developed with REST technology, which is a market standard and independent of technology used by our customers. In this way, it is possible to integrate using the most varied programming languages, such as: ASP, ASP. Net, Java, PHP, Ruby, Python, etc.
Among other characteristics, the outstanding attribute in the Braspag platform:</p>

<ul>
<li>No proprietary applications: you do not have to install applications in the online store environment under any circumstances.</li>
<li>Simplicity: the protocol used is purely HTTPS.</li>
<li>Facility of testing: Braspag platform offers a public accessibility in Sandbox environment, which allows the developer to create a test account without the need for accreditation, making it easier and faster to start the integration.</li>
<li>Credentials: the handling of the customer credentials (affiliation number and access key) drives in the header of the HTTP request of the message.</li>
<li>Security: the information exchange always takes place between the Store Server and Braspag, that is done without customer’s browser.</li>
<li>Multiplatform: integration is performed through REST Web Service.</li>
</ul>

<h2 id="architecture">Architecture</h2>

<p>Integration is performed through services provided as Web Services. The pattern employed is quite simple: There are two URLs (endpoint), one which specifies operations that cause side effects - such as authorization, capture and cancellation of transactions, and another specific URL for operations that do not cause side effects such as transaction searching. These two URLs will receive the HTTP messages through POST, GET, or PUT methods. Each message type must be sent to a resource identified through the path.</p>

<ul>
<li><strong>POST</strong> - The HTTP POST method is used at creation of resource or sending information to be processed. For example, when creating the transaction.</li>
<li><strong>PUT</strong> - The HTTP PUT method is used for updating the resource already created. For example, to capture or cancel the transaction previously authorized.</li>
<li><strong>GET</strong> - The HTTP GET method is used for consult resources already created. For example, query transactions.</li>
</ul>

<h2 id="sandbox">Sandbox</h2>

<p>To facilitate testing during integration, Braspag offers a Sandbox environment that is composed of two areas:</p>

<ol>
<li>Registration account test</li>
<li>Endpoints to requisition</li>
</ol>

<p>* <strong>Creation / Changes of transactions</strong>: https://apisandbox.braspag.com.br/
    * <strong>Transaction consult</strong>: https://apiquerysandbox.braspag.com.br/</p>

<p>No affiliation is required to use Sandbox Braspag. You just need to access Sandbox Registration and create a test account. At the end of the registration you will receive a  MerchantId and a MerchantKey, which should be used to authenticate all requests made to the API endpoints.</p>

<h3 id="mock-payment-method">Mock payment method</h3>

<p>The Simulated is a payment method that emulates the use of credit card payments. With this payment methods it is possible to simulate all the flows of Authorization, Capture and Cancellation.</p>

<p>For better use of the Simulated Payment Method, we are providing test cards in the table below.</p>

<p>The status of transactions will be done according to the use of each card.</p>

<table><thead>
<tr>
<th>Transaction Status</th>
<th>Cards for performing the tests</th>
<th>Return Code</th>
<th>Return message</th>
</tr>
</thead><tbody>
<tr>
<td>Authorized</td>
<td>0000.0000.0000.0001 / 0000.0000.0000.0004</td>
<td>4</td>
<td>Operation was successful</td>
</tr>
<tr>
<td>Not authorized</td>
<td>0000.0000.0000.0002</td>
<td>2</td>
<td>Not authorized</td>
</tr>
<tr>
<td>Authorization Random</td>
<td>0000.0000.0000.0009</td>
<td>4/99</td>
<td>Successful Operation/Time Out</td>
</tr>
<tr>
<td>Not authorized</td>
<td>0000.0000.0000.0007</td>
<td>77</td>
<td>Card Cancelled</td>
</tr>
<tr>
<td>Not authorized</td>
<td>0000.0000.0000.0008</td>
<td>70</td>
<td>Problems with Credit Card</td>
</tr>
<tr>
<td>Not authorized</td>
<td>0000.0000.0000.0005</td>
<td>78</td>
<td>card locked</td>
</tr>
<tr>
<td>Not authorized</td>
<td>0000.0000.0000.0003</td>
<td>57</td>
<td>Card Expired</td>
</tr>
<tr>
<td>Not authorized</td>
<td>0000.0000.0000.0006</td>
<td>99</td>
<td>Time Out</td>
</tr>
</tbody></table>

<p>The information Cód.Segurança (CVV) and validity can be random, keeping the format - CVV (3 digits) Expiration (MM/YYYY).</p>

<h1 id="credit-card-payments">Credit Card Payments</h1>

<p>An authorized transaction only generates the credit to the merchant if it has been captured (or confirmed).</p>

<p>In order for you to enjoy all the features available in our API, it is important you know the concepts involved in processing a credit card transaction before. Check them below:</p>

<ul>
<li><strong>Authorization</strong>: The authorization (or pre-authorization) is the main operation in eCommerce, because it enables a sale. Pre-authorization only sensitizes the customer&rsquo;s card limit, but does not generate a charge to the consumer yet.
Capture: When making a pre-authorization, it is necessary to confirm this before charging the cardholder. A pre-authorization is implemented through this operation and it can be executed, normally, within 5 days after the date of the pre authorization.</li>
<li><strong>Cancellation</strong>: Cancellation is necessary when, for some reason, you no longer want to continue a sale. In the case of a pre-authorization, the cancellation will release the limit of the card that was sensitized in a pre authorization. When the transaction has already been captured or is an Authorization, the cancellation will undo the sale, but must be executed by 23:59:59 on the date of authorization/capture.</li>
<li><strong>Authentication</strong>: The authentication process allows to carry out a sale which will undergo the process of authentication of the card issuing bank, and also more security for sale and transferring the risk of fraud to the bank.</li>
<li><strong>Protected card</strong>: It is a platform that allows secure storage of sensitive credit card data. This data is transformed into an encrypted code called &ldquo;token&rdquo;, which can be stored in a database. With the platform, the store will be able to offer features like &ldquo;Buy with 1 click&rdquo; and &ldquo;Retry a transaction&rdquo;, always preserving the integrity and the confidentiality of the information.</li>
<li><strong>Anti-Fraud</strong>: It is a fraud prevention platform that provides a detailed risk analysis of online purchases. We subject each transaction to more than 260 rules, in addition to the specific rules of each segment, and generate a risk recommendation in approximately two seconds. This process is completely transparent to the cardholder. According to the pre-established criteria, the request can be automatically accepted, refused or sent for manual analysis.</li>
<li><strong>Recurrent</strong>: Smart Recurrence is an indispensable resource for merchants that need to charge regularly for their products/services. It is widely used for magazine subscriptions, monthly fees, software licenses, among others. The merchants will have different resources to shape their collection according to their business, since all parameterization is configurable, such as: periodicity, start and end date, number of attempts, interval between them, among others.</li>
</ul>

<h2 id="creating-a-simple-transaction">Creating a simple transaction</h2>

<p>To create a transaction that will use a credit card, you must submit a request using the <code class="prettyprint">POST</code> method for the Payment feature, as shown. This example covers the minimum of fields required to be submitted for authorization.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">     
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111703"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>     
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
<td>Merchant ID in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
<td>Public Key for Double Authentication in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Guide</td>
<td>36</td>
<td>No</td>
<td>Request Identifier, used when Merchant uses different servers for each GET / POST / PUT.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
<td>Order ID number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
<td>Customer Name</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
<td>Payment Type.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Order Amount (to be sent in cents).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Text</td>
<td>15</td>
<td>—</td>
<td>Payment Provider / NOT MANDATORY FOR CREDIT.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
<td>Installments amount</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
<td>Number of Customers’ Card</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
<td>Customer&rsquo;s name printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
<td>Expiry date printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
<td>Security code printed on back of card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
<td>Credit Card Brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305023644309"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305023644309"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Proof of Sale</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization code.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">SoftDescriptor</code></td>
<td>Text to be printed on the holder&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Order Identifier.</td>
<td>Guide</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ECI</code></td>
<td>Electronic Commerce Indicator. Represents how secure a transaction is.</td>
<td>Text</td>
<td>2</td>
<td>examples: 7</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status</td>
<td>Byte</td>
<td>—</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring Return Code</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Return message from the Acquirer.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
<td>Installments amount</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
<td>Number of Customers’ Card</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
<td>Customer&rsquo;s name printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
<td>Expiry date printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
<td>Security code printed on back of card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
<td>Credit Card Brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
</tr>
</tbody></table>

<h2 id="creating-a-complete-transaction">Creating a complete transaction</h2>

<p>To create a transaction that will use a credit card, you must submit a request using the POST method for the Payment feature as shown. This example covers all possible fields that can be sent.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2021"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
<td>Merchant ID in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
<td>Public Key for Double Authentication in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Guide</td>
<td>36</td>
<td>No</td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
<td>Order ID number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
<td>Customer’s Name.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Identity</code></td>
<td>Text</td>
<td>14</td>
<td>No</td>
<td>Customer ID Number (RG, CPF or CNPJ)</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.IdentityType</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Type of identification customer document (CPF / CNPJ).</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Email</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Customer Email.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Birthdate</code></td>
<td>Date</td>
<td>10</td>
<td>No</td>
<td>Customer Birthday Date</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Street</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Customer address.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Number</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>Customer’s Address Number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Complement</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer Address Complement</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.ZipCode</code></td>
<td>Text</td>
<td>9</td>
<td>No</td>
<td>Customer Address Zip Code</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.City</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer Address City.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.State</code></td>
<td>Text</td>
<td>2</td>
<td>No</td>
<td>Customer address status.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Country</code></td>
<td>Text</td>
<td>35</td>
<td>No</td>
<td>Customer Address Country.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.Street</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Customer Address.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Number</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>Customer Address Number</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.Complement</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer Address Complement</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.ZipCode</code></td>
<td>Text</td>
<td>9</td>
<td>No</td>
<td>Customer Zip Code</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.City</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer Address City.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.State</code></td>
<td>Text</td>
<td>2</td>
<td>No</td>
<td>Customer Address State District.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.Country</code></td>
<td>Text</td>
<td>35</td>
<td>No</td>
<td>Customer Country</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
<td>Payment Method Type</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Order Amount (to be sent in cents).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Currency</code></td>
<td>Text</td>
<td>3</td>
<td>No</td>
<td>Currency in which payment will be made (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Country</code></td>
<td>Text</td>
<td>3</td>
<td>No</td>
<td>Country where payment will be made.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Text</td>
<td>15</td>
<td>—</td>
<td>Name of the Payment Method / NOT MANDATORY FOR CREDIT.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.ServiceTaxAmount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Amount of the authorization value to be allocated to the service charge. Note: This value is not added to the authorization amount.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
<td>Installments Amount</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Interest</code></td>
<td>Text</td>
<td>10</td>
<td>No</td>
<td>Type of installment - Shop (By Merchant) or Card (By Issuer).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Capture</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Booleano which identifies that the authorization should be with an automatic capture.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Authenticate</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Defines whether the customer will be directed to the issuing bank for card authentication</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
<td>Number of Customer Credit Card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
<td>Customer name printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
<td>Expiry date printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
<td>Security code printed on back of card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SaveCard</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Boolean that identifies whether the card will be saved to generate the CardToken.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
<td>Credit Card Brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Proof of Sale</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization code.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">SoftDescriptor</code></td>
<td>Text to be printed on the holder&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Order Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ECI</code></td>
<td>Electronic Commerce Indicator. Represents how secure a transaction is.</td>
<td>Text</td>
<td>2</td>
<td>Examples: 7</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status</td>
<td>Byte</td>
<td>—</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring Return Code</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Return message from Acquiring.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric text</td>
</tr>
</tbody></table>

<h2 id="creating-a-sale-with-authentication">Creating a sale with Authentication</h2>

<p>To create an authentication transaction that will use a credit card, you must submit a request using the POST method for the Payment feature as shown.</p>

<aside class="notice"><strong>Authentication:</strong> In this mode the cardholder is directed to the authentication environment of the card issuing bank where the card password will be requested.</aside>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111903"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111903"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:15700,
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Authenticate"</span>:true,
      <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2015"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
<td>Merchant ID in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
<td>Public Key for Double Authentication in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Guide</td>
<td>36</td>
<td>No</td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
<td>Order ID number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
<td>Customer’s Name</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
<td>Payment Method’s Type.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Order Amount (to be sent in cents).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Text</td>
<td>15</td>
<td>—</td>
<td>Name of payment method / NOT MANDATORY FOR CREDIT.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
<td>Installments amount</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Authenticate</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Defines whether the buyer will be directed to the issuing bank for card authentication</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber.</code></td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
<td>Customer Credit Card Number</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
<td>Customer’s name printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
<td>Expiry date printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
<td>Security code printed on back of card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
<td>Credit Card Brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111903"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"123412******1112"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"AuthenticationUrl"</span><span class="p">:</span><span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?id=c5158c1c7b475fdb91a7ad7cc094e7fe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1006993069257E521001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="s2">"f2dbd5df-c2ee-482f-ab1b-7fee039108c0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:[],</span><span class="w">
        </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="s2">"Waiting"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{Paymentid}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111903"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>:0,
        <span class="s2">"Installments"</span>:1,
        <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>:false,
        <span class="s2">"Authenticate"</span>:true,
        <span class="s2">"CreditCard"</span>:
        <span class="o">{</span>
            <span class="s2">"CardNumber"</span>:<span class="s2">"123412******1112"</span>,
            <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2015"</span>,
            <span class="s2">"SaveCard"</span>:false,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"AuthenticationUrl"</span>:<span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?id=c5158c1c7b475fdb91a7ad7cc094e7fe"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"1006993069257E521001"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
        <span class="s2">"PaymentId"</span>:<span class="s2">"f2dbd5df-c2ee-482f-ab1b-7fee039108c0"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>:[],
        <span class="s2">"ReasonCode"</span>:9,
        <span class="s2">"ReasonMessage"</span>:<span class="s2">"Waiting"</span>,
        <span class="s2">"Status"</span>:0,
        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
        <span class="s2">"Links"</span>:
        <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>:<span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>:<span class="s2">"self"</span>,
                <span class="s2">"Href"</span>:<span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{Paymentid}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Proof of Sale</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization Code</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">SoftDescriptor</code></td>
<td>Text to be printed on the customer&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Order Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ECI</code></td>
<td>Electronic Commerce Indicator. Represents how secure a transaction is.</td>
<td>Text</td>
<td>2</td>
<td>Examples: 7</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>—</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring Return Code</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Return message from the Acquirer.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric Text</td>
</tr>
</tbody></table>

<h2 id="creating-a-sale-with-fraud-analysis">Creating a sale with Fraud Analysis</h2>

<p>To create a credit card sale and fraud analysis, you must submit a request using the POST method for the Payment feature as the example.</p>

<h3 id="request">Request</h3>

<h3 id="requisição">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"201411173454307"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"4024007197692931"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste accept"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"023"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"FraudAnalysis"</span><span class="p">:{</span><span class="w">
       </span><span class="s2">"Sequence"</span><span class="p">:</span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"SequenceCriteria"</span><span class="p">:</span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"FingerPrintId"</span><span class="p">:</span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Browser"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"CookiesAccepted"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"HostName"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"IpAddress"</span><span class="p">:</span><span class="s2">"200.190.150.350"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"Chrome"</span><span class="w">
        </span><span class="p">},</span><span class="w">
       </span><span class="s2">"Cart"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"IsGift"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ReturnsAccepted"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Items"</span><span class="p">:[{</span><span class="w">
           </span><span class="s2">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
           </span><span class="s2">"Sku"</span><span class="p">:</span><span class="s2">"201411170235134521346"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
           </span><span class="s2">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"Passenger"</span><span class="p">:{</span><span class="w">
             </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Rating"</span><span class="p">:</span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Phone"</span><span class="p">:</span><span class="s2">"999994444"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Status"</span><span class="p">:</span><span class="s2">"Accepted"</span><span class="w">
            </span><span class="p">}</span><span class="w">
           </span><span class="p">}]</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="s2">"MerchantDefinedFields"</span><span class="p">:[{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="mi">95</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"Eu defini isso"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"Shipping"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"Addressee"</span><span class="p">:</span><span class="s2">"Sr Comprador Teste"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Phone"</span><span class="p">:</span><span class="s2">"21114740"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Travel"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"DepartureTime"</span><span class="p">:</span><span class="s2">"2010-01-02"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"JourneyType"</span><span class="p">:</span><span class="s2">"Ida"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Route"</span><span class="p">:</span><span class="s2">"MAO-RJO"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Legs"</span><span class="p">:[{</span><span class="w">
                </span><span class="s2">"Destination"</span><span class="p">:</span><span class="s2">"GYN"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Origin"</span><span class="p">:</span><span class="s2">"VCP"</span><span class="w">
          </span><span class="p">}]</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"201411173454307"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador accept"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@live.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Júpter"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"174"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241140"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Júpter"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"174"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241140"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:100,
     <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:false,
     <span class="s2">"Authenticate"</span>:false,,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4024007197692931"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste accept"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2015"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"023"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>,
     <span class="s2">"FraudAnalysis"</span>:<span class="o">{</span>
       <span class="s2">"Sequence"</span>:<span class="s2">"AnalyseFirst"</span>,
       <span class="s2">"SequenceCriteria"</span>:<span class="s2">"Always"</span>,
       <span class="s2">"FingerPrintId"</span>:<span class="s2">"074c1ee676ed4998ab66491013c565e2"</span>,
       <span class="s2">"Browser"</span>:<span class="o">{</span>
         <span class="s2">"CookiesAccepted"</span>:false,
         <span class="s2">"Email"</span>:<span class="s2">"compradorteste@live.com"</span>,
         <span class="s2">"HostName"</span>:<span class="s2">"Teste"</span>,
         <span class="s2">"IpAddress"</span>:<span class="s2">"200.190.150.350"</span>,
         <span class="s2">"Type"</span>:<span class="s2">"Chrome"</span>
        <span class="o">}</span>,
       <span class="s2">"Cart"</span>:<span class="o">{</span>
         <span class="s2">"IsGift"</span>:false,
         <span class="s2">"ReturnsAccepted"</span>:true,
         <span class="s2">"Items"</span>:[<span class="o">{</span>
           <span class="s2">"GiftCategory"</span>:<span class="s2">"Undefined"</span>,
           <span class="s2">"HostHedge"</span>:<span class="s2">"Off"</span>,
           <span class="s2">"NonSensicalHedge"</span>:<span class="s2">"Off"</span>,
           <span class="s2">"ObscenitiesHedge"</span>:<span class="s2">"Off"</span>,
           <span class="s2">"PhoneHedge"</span>:<span class="s2">"Off"</span>,
           <span class="s2">"Name"</span>:<span class="s2">"ItemTeste"</span>,
           <span class="s2">"Quantity"</span>:1,
           <span class="s2">"Sku"</span>:<span class="s2">"201411170235134521346"</span>,
           <span class="s2">"UnitPrice"</span>:123,
           <span class="s2">"Risk"</span>:<span class="s2">"High"</span>,
           <span class="s2">"TimeHedge"</span>:<span class="s2">"Normal"</span>,
           <span class="s2">"Type"</span>:<span class="s2">"AdultContent"</span>,
           <span class="s2">"VelocityHedge"</span>:<span class="s2">"High"</span>,
           <span class="s2">"Passenger"</span>:<span class="o">{</span>
             <span class="s2">"Email"</span>:<span class="s2">"compradorteste@live.com"</span>,
             <span class="s2">"Identity"</span>:<span class="s2">"1234567890"</span>,
             <span class="s2">"Name"</span>:<span class="s2">"Comprador accept"</span>,
             <span class="s2">"Rating"</span>:<span class="s2">"Adult"</span>,
             <span class="s2">"Phone"</span>:<span class="s2">"999994444"</span>,
             <span class="s2">"Status"</span>:<span class="s2">"Accepted"</span>
            <span class="o">}</span>
           <span class="o">}]</span>
       <span class="o">}</span>,
       <span class="s2">"MerchantDefinedFields"</span>:[<span class="o">{</span>
            <span class="s2">"Id"</span>:95,
            <span class="s2">"Value"</span>:<span class="s2">"Eu defini isso"</span>
        <span class="o">}]</span>,
        <span class="s2">"Shipping"</span>:<span class="o">{</span>
            <span class="s2">"Addressee"</span>:<span class="s2">"Sr Comprador Teste"</span>,
            <span class="s2">"Method"</span>:<span class="s2">"LowCost"</span>,
            <span class="s2">"Phone"</span>:<span class="s2">"21114740"</span>
        <span class="o">}</span>,
        <span class="s2">"Travel"</span>:<span class="o">{</span>
            <span class="s2">"DepartureTime"</span>:<span class="s2">"2010-01-02"</span>,
            <span class="s2">"JourneyType"</span>:<span class="s2">"Ida"</span>,
            <span class="s2">"Route"</span>:<span class="s2">"MAO-RJO"</span>,
          <span class="s2">"Legs"</span>:[<span class="o">{</span>
                <span class="s2">"Destination"</span>:<span class="s2">"GYN"</span>,
                <span class="s2">"Origin"</span>:<span class="s2">"VCP"</span>
          <span class="o">}]</span>
        <span class="o">}</span>
     <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
<td>Merchant identifier in Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
<td>Public Key for Double Authentication at Braspag.</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Guide</td>
<td>36</td>
<td>No</td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT.</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
<td>Order ID number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
<td>Customer’s Name</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Email</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Customer’s Email</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Birthdate</code></td>
<td>Date</td>
<td>10</td>
<td>No</td>
<td>Birthday Date of the  Customer.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Street</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Customer Address</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Number</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>Customer address number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Complement</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer Address Addition.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.ZipCode</code></td>
<td>Text</td>
<td>9</td>
<td>No</td>
<td>Address Zip Code (Customer).</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.City</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer City.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.State</code></td>
<td>Text</td>
<td>2</td>
<td>No</td>
<td>Customer State (District).</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Country</code></td>
<td>Text</td>
<td>35</td>
<td>No</td>
<td>Customer Country</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.Street</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Customer Address</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Number</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>Customer address number.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.Complement</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer Address Complement</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.ZipCode</code></td>
<td>Text</td>
<td>9</td>
<td>No</td>
<td>Customer Zip code.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.City</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Customer city.</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.State</code></td>
<td>Text</td>
<td>2</td>
<td>No</td>
<td>Customer State (District)</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.DeliveryAddress.Country</code></td>
<td>Text</td>
<td>35</td>
<td>No</td>
<td>Customer Address.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
<td>Payment Method’s Type.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Order Amount (to be sent in cents).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Currency</code></td>
<td>Text</td>
<td>3</td>
<td>No</td>
<td>Currency in which payment will be made (BRL / USD / MXN / COP / CLP / ARS / PEN / EUR / PYN / UYU / VEB / VEF / GBP).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Country</code></td>
<td>Text</td>
<td>3</td>
<td>No</td>
<td>Country where the Payment will be done.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Text</td>
<td>15</td>
<td>—</td>
<td>Name of the Payment Method/ NOT MANDATORY FOR CREDIT..</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.ServiceTaxAmount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Amount of the authorization value to be allocated to the service charge. Note: This value is not added to the authorization amount.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
<td>Installments Amount</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Interest</code></td>
<td>Text</td>
<td>10</td>
<td>No</td>
<td>Type of installment - Merchant (ByMerchant) or Card (ByIssuer).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Capture</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Boolean that identifies that the authorization should be with automatic capture.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Authenticate</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Defines whether the buyer will be directed to the issuing bank for card authentication</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
<td>Customer Credit Card Number.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
<td>Customer name printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
<td>Expiry date printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
<td>Security code printed on back of card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SaveCard</code></td>
<td>Booleano</td>
<td>—</td>
<td>No (Default false)</td>
<td>Booleano that identifies whether the card will be saved to generate the CardToken.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
<td>Credit Card Brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Sequence</code></td>
<td>Text</td>
<td>14</td>
<td>No</td>
<td>Flow type for conducting fraud analysis. First AnalyzeFirst or First Authorization (AuthorizeFirst)</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.SequenceCriteria</code></td>
<td>Text</td>
<td>9</td>
<td>No</td>
<td>Flow criterion. OnSuccess - Only performs the analysis if it succeeds in the transaction. Always - Always perform the analysis</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.FingerPrintId</code></td>
<td>Text</td>
<td>50</td>
<td>No</td>
<td>Identifier used to cross information obtained by the Internet browser with the data sent for analysis. This same value must be passed in the SESSIONID variable of the DeviceFingerPrint script.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Browser.CookiesAccepted</code></td>
<td>Booleano</td>
<td>—</td>
<td>No</td>
<td>Booleano to identify whether the client&rsquo;s browser accepts cookies.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Browser.Email</code></td>
<td>Text</td>
<td>100</td>
<td>No</td>
<td>E-mail registered in the buyer&rsquo;s browser.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Browser.HostName</code></td>
<td>Text</td>
<td>60</td>
<td>No</td>
<td>Host name where the buyer was before entering the store&rsquo;s website.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Browser.IpAddress</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>IP address of the buyer. We strongly recommend sending this field.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Browser.Type</code></td>
<td>Text</td>
<td>40</td>
<td>No</td>
<td>Name of the browser used by the buyer.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Cart.IsGift</code></td>
<td>Booleano</td>
<td>—</td>
<td>No</td>
<td>Booleano that indicates whether the order is for gift or not.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Cart.ReturnsAccepted</code></td>
<td>Booleano</td>
<td>—</td>
<td>No</td>
<td>Boolean that defines whether returns are accepted for the request.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.GiftCategory</code></td>
<td>Text</td>
<td>9</td>
<td>No</td>
<td>Field that will evaluate the billing and delivery addresses for different cities, states or countries.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.HostHedge</code></td>
<td>Text</td>
<td></td>
<td>No</td>
<td>Priority Level of email and IP addresses of customers at scoring risk.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.NonSensicalHedge</code></td>
<td>Text</td>
<td>6</td>
<td>No</td>
<td>Level of tests performed on buyer data with nonsensical orders.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.ObscenitiesHedge</code></td>
<td>Text</td>
<td>6</td>
<td>No</td>
<td>Level of Obscenities Hedge of requests received.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.PhoneHedge</code></td>
<td>Text</td>
<td>6</td>
<td>No</td>
<td>Level of tests performed with phone numbers.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Name</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Product’s name.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Quantity</code></td>
<td>Number</td>
<td>15</td>
<td>No</td>
<td>Quantity of products to be purchased.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Sku</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Product identifier merchant code.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.UnitPrice</code></td>
<td>Number</td>
<td>15</td>
<td>No</td>
<td>Unit price of the product.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Risk</code></td>
<td>Text</td>
<td>6</td>
<td>No</td>
<td>Product risk level.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.TimeHedge</code></td>
<td>Text</td>
<td></td>
<td>No</td>
<td>Priority Level of Customer Order Time.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Type</code></td>
<td>Text</td>
<td></td>
<td>No</td>
<td>Product Type.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.VelocityHedge</code></td>
<td>Text</td>
<td>6</td>
<td>No</td>
<td>Level of priority of Customer purchase frequency.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Passenger.Email</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Passenger Email.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Passenger.Identity</code></td>
<td>Text</td>
<td>32</td>
<td>No</td>
<td>Id of the passenger to whom the ticket was issued.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Passenger.Name</code></td>
<td>Text</td>
<td>120</td>
<td>No</td>
<td>Passenger’s Name.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Passenger.Rating</code></td>
<td>Text</td>
<td></td>
<td>No</td>
<td>Passenger Rating.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Passenger.Phone</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>Passenger&rsquo;s phone number. For orders outside of U.S., CyberSource recommends that you include the country code.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Items.Passenger.Status</code></td>
<td>Text</td>
<td>32</td>
<td>No</td>
<td>Classification of the airline company. You can use values such as Gold or Platinum.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.MerchantDefinedFields.Id</code></td>
<td>Text</td>
<td>—</td>
<td>No</td>
<td>Id of the additional information to send.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.MerchantDefinedFields.Value</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Value of additional information to send.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Shipping.Addressee</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Name of delivery recipient.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Shipping.Method</code></td>
<td>Text</td>
<td></td>
<td>No</td>
<td>Type of product delivery service.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Shipping.Phone</code></td>
<td>Text</td>
<td>15</td>
<td>No</td>
<td>Delivery recipient&rsquo;s phone number.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Travel.DepartureTime</code></td>
<td>DateTime</td>
<td>23</td>
<td>No</td>
<td>Date, hour and minute of flight departure.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Travel.JourneyType</code></td>
<td>Text</td>
<td>32</td>
<td>No</td>
<td>Type of Trip.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Travel.Route</code></td>
<td>Text</td>
<td>255</td>
<td>No</td>
<td>Route of the trip. Concatenation of individual trip legs in ORIG1- DEST1 format.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Travel.Legs.Destination</code></td>
<td>Text</td>
<td>3</td>
<td>No</td>
<td>Airport code of travel destination point.</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalysis.Travel.Legs.Origin</code></td>
<td>Text</td>
<td>3</td>
<td>No</td>
<td>Airport code from the point of origin of the trip.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411173454307"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"174"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"174"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"402400******2931"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste accept"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"492115"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AcquirerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930692606D31001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnalyseFirst"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eu defini isso"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ItemTeste"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170235134521346"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999994444"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Travel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAO-RJO"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DepartureTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-01-02T00:00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"JourneyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ida"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GYN"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VCP"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"HostName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.190.150.350"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sr Comprador Teste"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21114740"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LowCost"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"AddressInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COR-BA^MM-BIN"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B^D^R^Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
                </span><span class="s2">"BinCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CardIssuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIA CARD SERVICES, N.A."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CardScheme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VisaCredit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"InternetInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FREE-EM^RISK-EM"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"IpRoutingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_lac"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04096cfb-3f0a-4ece-946c-3b7dc5d38f19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transação autorizada"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.cieloecommerce.cielo.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
    <span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"201411173454307"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador accept"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@live.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Júpter"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"174"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 201"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"21241140"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Júpter"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"174"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 201"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"21241140"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"402400******2931"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste accept"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2015"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"492115"</span>,
        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"10069930692606D31001"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
        <span class="s2">"FraudAnalysis"</span>: <span class="o">{</span>
            <span class="s2">"Sequence"</span>: <span class="s2">"AnalyseFirst"</span>,
            <span class="s2">"SequenceCriteria"</span>: <span class="s2">"Always"</span>,
            <span class="s2">"FingerPrintId"</span>: <span class="s2">"074c1ee676ed4998ab66491013c565e2"</span>,
            <span class="s2">"MerchantDefinedFields"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"Id"</span>: 95,
                    <span class="s2">"Value"</span>: <span class="s2">"Eu defini isso"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"Cart"</span>: <span class="o">{</span>
                <span class="s2">"IsGift"</span>: <span class="nb">false</span>,
                <span class="s2">"ReturnsAccepted"</span>: <span class="nb">true</span>,
                <span class="s2">"Items"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"Type"</span>: <span class="s2">"AdultContent"</span>,
                        <span class="s2">"Name"</span>: <span class="s2">"ItemTeste"</span>,
                        <span class="s2">"Risk"</span>: <span class="s2">"High"</span>,
                        <span class="s2">"Sku"</span>: <span class="s2">"201411170235134521346"</span>,
                        <span class="s2">"UnitPrice"</span>: 123,
                        <span class="s2">"Quantity"</span>: 1,
                        <span class="s2">"HostHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"NonSensicalHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"ObscenitiesHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"PhoneHedge"</span>: <span class="s2">"Off"</span>,
                        <span class="s2">"TimeHedge"</span>: <span class="s2">"Normal"</span>,
                        <span class="s2">"VelocityHedge"</span>: <span class="s2">"High"</span>,
                        <span class="s2">"GiftCategory"</span>: <span class="s2">"Undefined"</span>,
                        <span class="s2">"Passenger"</span>: <span class="o">{</span>
                            <span class="s2">"Name"</span>: <span class="s2">"Comprador accept"</span>,
                            <span class="s2">"Identity"</span>: <span class="s2">"1234567890"</span>,
                            <span class="s2">"Status"</span>: <span class="s2">"Accepted"</span>,
                            <span class="s2">"Rating"</span>: <span class="s2">"Adult"</span>,
                            <span class="s2">"Email"</span>: <span class="s2">"compradorteste@live.com"</span>,
                            <span class="s2">"Phone"</span>: <span class="s2">"999994444"</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"Travel"</span>: <span class="o">{</span>
                <span class="s2">"Route"</span>: <span class="s2">"MAO-RJO"</span>,
                <span class="s2">"DepartureTime"</span>: <span class="s2">"2010-01-02T00:00:00"</span>,
                <span class="s2">"JourneyType"</span>: <span class="s2">"Ida"</span>,
                <span class="s2">"Legs"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"Destination"</span>: <span class="s2">"GYN"</span>,
                        <span class="s2">"Origin"</span>: <span class="s2">"VCP"</span>
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"Browser"</span>: <span class="o">{</span>
                <span class="s2">"HostName"</span>: <span class="s2">"Teste"</span>,
                <span class="s2">"CookiesAccepted"</span>: <span class="nb">false</span>,
                <span class="s2">"Email"</span>: <span class="s2">"compradorteste@live.com"</span>,
                <span class="s2">"Type"</span>: <span class="s2">"Chrome"</span>,
                <span class="s2">"IpAddress"</span>: <span class="s2">"200.190.150.350"</span>
            <span class="o">}</span>,
            <span class="s2">"Shipping"</span>: <span class="o">{</span>
                <span class="s2">"Addressee"</span>: <span class="s2">"Sr Comprador Teste"</span>,
                <span class="s2">"Phone"</span>: <span class="s2">"21114740"</span>,
                <span class="s2">"Method"</span>: <span class="s2">"LowCost"</span>
            <span class="o">}</span>,
            <span class="s2">"Id"</span>: <span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span>,
            <span class="s2">"Status"</span>: 1,
                <span class="s2">"ReplyData"</span>: <span class="o">{</span>
                <span class="s2">"AddressInfoCode"</span>: <span class="s2">"COR-BA^MM-BIN"</span>,
                <span class="s2">"FactorCode"</span>: <span class="s2">"B^D^R^Z"</span>,
                <span class="s2">"Score"</span>: 42,
                <span class="s2">"BinCountry"</span>: <span class="s2">"us"</span>,
                <span class="s2">"CardIssuer"</span>: <span class="s2">"FIA CARD SERVICES, N.A."</span>,
                <span class="s2">"CardScheme"</span>: <span class="s2">"VisaCredit"</span>,
                <span class="s2">"HostSeverity"</span>: 1,
                <span class="s2">"InternetInfoCode"</span>: <span class="s2">"FREE-EM^RISK-EM"</span>,
                <span class="s2">"IpRoutingMethod"</span>: <span class="s2">"Undefined"</span>,
                <span class="s2">"ScoreModelUsed"</span>: <span class="s2">"default_lac"</span>,
                <span class="s2">"CasePriority"</span>: 3
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"04096cfb-3f0a-4ece-946c-3b7dc5d38f19"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Transação autorizada"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Sales Receipt number.</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">Tid</code></td>
<td>Transaction id in the acquirer.</td>
<td>Text</td>
<td>40</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization Code.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">SoftDescriptor</code></td>
<td>Text to be printed on the carrier&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">Id</code></td>
<td>IDENTIFICATION Transaction in Antifraud.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalisysReasonCode</code></td>
<td>Analysis of the results.</td>
<td>Byte</td>
<td>-</td>
<td>Number:<ul><li>100 - Successful operation.</li><li>101 - There are one or more missed requests fields. Possible action: See the fields that are missing in AntiFraudResponse list.MissingFieldCollection. Resend the request with complete information.</li><li>102 - One or more request fields contain invalid data. Possible action: See the invalid fields in AntiFraudResponse list.InvalidFieldCollection. Resubmit the request with the correct information.</li><li>150 - Failure in the general system. Possible action: wait a few minutes and try resending the request.</li><li>151 - The request was received, but time-out occurred on the server.This error does not include time-out between the client and the server. Possible action: wait a few minutes and try resending the request.</li><li>152 The request was received, but was time-out. Possible action: wait a few minutes and resubmit the request.</li><li>202 - Fraud Prevention refused the request because the card has expired. You can also receive this code if the expiration date does not coincide with the date on issuing bank file. If payment processor allows emission credits for expired cards, CyberSource does not limit this functionality. Possible action: Request a card or other method of payment.</li><li>231 The account number is invalid. Possible action: Request a card or other method of payment.</li><li>234 - There is a problem with the merchant setup. Possible action: Do not click. Please contact customer support to correct the configuration problem.</li><li>400 A fraud score exceeds its limit. Possible action: Review the customer&rsquo;s request.</li><li>480 The request was scheduled for review by Decision Manager.</li><li>481 - The request was rejected by Manager decision</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">AddressInfoCode</code></td>
<td>Combination of codes that indicate error in the billing address and / or delivery. The codes are concatenated using the ^.</td>
<td>Text</td>
<td>255</td>
<td>Ex: COR-BA ^ MM-BIN<ul><li>COR-BA - The billing address can be normalized.</li><li>COR-SA - The delivery address can be normalized.</li><li>INTL-BA - The billing country is outside the US</li><li>INTL-SA - Delivery country is outside the US</li><li>MIL-USA - This is a military address in the US</li><li>MM-A - billing and shipping addresses use different street names.</li><li>MM-BIN - The BIN card (the first six digits number) does not match the country.</li><li>MM-C - The billing and delivery addresses use different cities.</li><li>MM-CO - The billing and delivery addresses use different countries.</li><li>MM-ST - The billing and delivery addresses use different states.</li><li>MM-Z - The billing and delivery addresses use different zip codes.</li><li>UNV-ADDR - The address is unverifiable.</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">FactorCode</code></td>
<td>Combination of codes that indicate the score of the application. The codes are concatenated using the ^.</td>
<td>Text</td>
<td>100</td>
<td>Eg B ^ D ^ R ^ Z<ul><li>A - Excessive Change of Address.The customer has changed the billing address two or more times in the last six months.</li><li>B - BIN card or risk authorization. Risk factors are related to credit card and BIN / or card authorization checks.</li><li>C - High numbers of credit cards.The customer has used more than six numbers of credit cards in the past six months.</li><li>D - Impact of the e-mail address.The customer uses a free email provider or e-mail address is risky.</li><li>E - Positive list. The customer is in its positive list.</li><li>F - Negative list. The account number, address, email address or IP address for this purpose appears in its negative list.</li><li>G - geolocation inconsistencies.The email client domain, phone number, billing address, shipping address or IP address is suspect.</li><li>H - excessive name changes.The customer changed its name twice or more in the past six months.</li><li>I - Internet inconsistencies.The IP address and e-mail domain are not consistent with the billing address.</li><li>N - Entrance meaningless.The customer name and address fields contain meaningless words or language.</li><li>The - obscenities.Customer data contains obscene words.</li><li>P - morphing identity. Various amounts of an identity element are attached to a different value of an identity element. For example, various telephone numbers are connected to a single account number.</li><li>Q - Inconsistencies phone. The customer&rsquo;s phone number is suspect.</li><li>R - risky Order.The transaction, the customer and the merchant show information correlated high risk.</li><li>T - Time Coverage. The client is attempting a purchase outside the expected time.</li><li>U - unverifiable address. The billing address or delivery can not be verified.</li><li>V - Velocity.The account number was used many times in the last 15 minutes.</li><li>W - marked as suspect. The billing address and delivery is similar to an address previously marked suspect.</li><li>Y - The address, city, state or country of billing and shipping addresses do not correlate.</li><li>Z - Invalid value. As the request it contains an unexpected value, a default value has been replaced. Although the transaction can still be processed, examine the application carefully to detect abnormalities.</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">Score</code></td>
<td>Total score calculated for the application.</td>
<td>Number</td>
<td>-</td>
<td>Number</td>
</tr>
<tr>
<td><code class="prettyprint">BinCountry</code></td>
<td>Symbol of the country of origin of purchase.</td>
<td>Text</td>
<td>2</td>
<td>us</td>
</tr>
<tr>
<td><code class="prettyprint">CardIssuer</code></td>
<td>Name of the bank or issuer of the card body.</td>
<td>Text</td>
<td>128</td>
<td>Bradesco</td>
</tr>
<tr>
<td><code class="prettyprint">CardScheme</code></td>
<td>Banner type</td>
<td>Text</td>
<td>20</td>
<td><ul><li>MaestroUkDomestic - Maestro UK Domestic</li><li>MastercardCredit - MasterCard Credit</li><li>MastercardDebit - MasterCard Debit</li><li>VisaCredit - Visa Credit</li><li>VisaDebit - Visa Debit</li><li>Visa Electron - Visa Electron</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">HostSeverity</code></td>
<td>Risk level of the buyer’s e-mail domain, 0-5, where 0 is unlimited risk and 5 is the highest risk.</td>
<td>Number</td>
<td>-</td>
<td>5</td>
</tr>
<tr>
<td><code class="prettyprint">InternetInfoCode</code></td>
<td>Sequence of codes that indicate that there is an excessive change in the buyer&rsquo;s identity. The codes are concatenated using the ^.</td>
<td>Text</td>
<td>255</td>
<td>Ex:<ul><li>MORPH-B - The same billing address has been used several times with multiple client identities.</li><li>MORPH-C - The same account number has been used several times with multiple client identities.</li><li>MORPH-E - The same e-mail address has been used several times with multiple client identities. MORPH I The same IP address has been used multiple times with multiple clients identities.</li><li>MORPH-P - The same phone number has been used several times with multiple client identities.</li><li>MORPH-S - The same delivery address has been used multiple times with multiple clients identities.</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">IpRoutingMethod</code></td>
<td>IP routing type used by the computer.</td>
<td>Text</td>
<td>-</td>
<td><ul><li>AolBased</li><li>CacheProxy</li><li>Fixed</li><li>InternationalProxy</li><li>MobileGateway</li><li>Pop</li><li>RegionalProxy</li><li>Satellite</li><li>Superpop</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">ScoreModelUsed</code></td>
<td>Name score of model used.</td>
<td>Text</td>
<td>20</td>
<td>Eg default_lac</td>
</tr>
<tr>
<td><code class="prettyprint">CasePriority</code></td>
<td>If the merchant is subscriber Enhanced Case Management, you receive this value with the level of priority, with 1 being the highest and 5 the lowest.</td>
<td>Number</td>
<td>-</td>
<td>3</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring the return code.</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Acquiring the return message.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric text</td>
</tr>
</tbody></table>

<h2 id="creating-a-sale-with-card-token">Creating a sale with Card Token</h2>

<p>To create a credit card sale with protected card token, you must do a POST for the Payment feature as shown in the example.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="w"> </span><span class="p">{</span><span class="w">  
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
       </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="err">,</span><span class="w">
      </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"CardToken"</span><span class="p">:</span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell"> curl
 --request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
 --header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
 --header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
 --data-binary
 <span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:<span class="o">{</span>  
       <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:100,
      <span class="s2">"Installments"</span>:1,,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
          <span class="s2">"CardToken"</span>:<span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
          <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
          <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
      <span class="o">}</span>
    <span class="o">}</span>
 <span class="o">}</span>
 --verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public Key for Dual Authentication in the API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Order ID number.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Customer’s Name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Payment Methodtype.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Order Amount (to be sent in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Installment Amount.</td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.SoftDescriptor</code></td>
<td>Text that will be printed on the holder billing invoice</td>
<td>Text</td>
<td>13</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.ReturnUrl</code></td>
<td>URI where the user will be redirected after payment ends</td>
<td>Text</td>
<td>1024</td>
<td>Yes when Authenticate = true</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardToken</code></td>
<td>Card ID Token.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Security code printed on back of card.</td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Credit Card Brand.</td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5036294"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0310025036294"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"319285"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
        <span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"5036294"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0310025036294"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"319285"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Proof of Sale.</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization code.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">SoftDescriptor</code></td>
<td>Text to be printed on the holder&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Order Identifier.</td>
<td>Guide</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ECI</code></td>
<td>Electronic Commerce Indicator. Represents how secure a transaction is.</td>
<td>Text</td>
<td>2</td>
<td>Examples: 7</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>—</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring Return Code.</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric Text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Acquiring Return Message.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric Text</td>
</tr>
</tbody></table>

<h2 id="capturing-a-sale">Capturing a sale</h2>

<p>To capture credit card sale, you must do a PUT to the Payment feature as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/capture</span></aside>
<pre><code class="highlight json"></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture?amount=xxx&amp;serviceTaxAmount=xxx"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Merchant ID in API.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public Key for Dual Authentication in the API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT</td>
<td>Guide</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Order Identifier.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Amount</code></td>
<td>Order Amount (to be sent in cents).</td>
<td>Number</td>
<td>15</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">ServiceTaxAmount</code></td>
<td>Service Tax Amount of authorizatioto be allocated to the service charge. Note: This value is not added to the authorization amount.</td>
<td>Number</td>
<td>15</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring the return code.</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Acquiring the return message.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric text</td>
</tr>
</tbody></table>

<h2 id="cancelling-a-sale">Cancelling a sale</h2>

<p>To cancel a sale credit card sale, you must do a PUT to the Payment feature as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/sales/{PaymentId}/void?amount=xxx</span></aside>
<pre><code class="highlight json"></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void?amount=xxx"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Merchant identifier in API.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public Key for Dual Authentication in the API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT</td>
<td>Guide</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Payment Identifier Field.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Amount</code></td>
<td>Order Amount (to send in cents).</td>
<td>Number</td>
<td>15</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"Status"</span>: 10,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"9"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>10</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring the return code.</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Acquiring the return message.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric text</td>
</tr>
</tbody></table>

<h1 id="payments-with-debit-card">Payments with Debit Card</h1>

<h2 id="creating-a-simplified-sale">Creating a simplified sale</h2>

<p>To create debit card sale, you must do a POST to the Payment feature as shown. This sample includes a minimum courses required to be sent for authorization.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paulo Henrique"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
             </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******3703"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?{PaymentId}"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1006993069207A31A001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0309f44f-fe5a-4de1-ba39-984f456130bd"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
             </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell"> --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
 --data-binary
 <span class="o">{</span>
     <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014121201"</span>,
     <span class="s2">"Customer"</span>: <span class="o">{</span>
         <span class="s2">"Name"</span>: <span class="s2">"Paulo Henrique"</span>
     <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
         <span class="s2">"DebitCard"</span>: <span class="o">{</span>
             <span class="s2">"CardNumber"</span>: <span class="s2">"453211******3703"</span>,
             <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
             <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2015"</span>,
             <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
              <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
          <span class="o">}</span>,
          <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?{PaymentId}"</span>,
 -        <span class="s2">"AcquirerTransactionId"</span>: <span class="s2">"1006993069207A31A001"</span>,
 +        <span class="s2">"Tid"</span>: <span class="s2">"1006993069207A31A001"</span>,
          <span class="s2">"PaymentId"</span>: <span class="s2">"0309f44f-fe5a-4de1-ba39-984f456130bd"</span>,
          <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
          <span class="s2">"Amount"</span>: 15700,
          <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
          <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
          <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
 -        <span class="s2">"ReasonCode"</span>: 9,
 -        <span class="s2">"ReasonMessage"</span>: <span class="s2">"Waiting"</span>,
          <span class="s2">"Status"</span>: 0,
 -        <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
 +        <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
          <span class="s2">"Links"</span>: <span class="o">[</span>
              <span class="o">{</span>
                  <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                 <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                 <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
             <span class="o">}</span>
         <span class="o">]</span>
     <span class="o">}</span>
 <span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Merchant Identifier on API.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public Key for Dual Authentication in the API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT</td>
<td>Guide</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Merchant Order Identifier.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Customer Name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Payment Type.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Order Amount (to be sent in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.ReturnUrl</code></td>
<td>Merchant Return Url.</td>
<td>Text</td>
<td>1024</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.ReturnUrl</code></td>
<td>URL to redirect the user after the end of payment</td>
<td>Text</td>
<td>1024</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Credit Card Number.</td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Customer Name as printed on the card.</td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Credit Card Expiration Date.</td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Credit Card Security Code (Printed on the back of the card).</td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Credit Card Brand.</td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paulo Henrique"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
             </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******3703"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?{PaymentId}"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1006993069207A31A001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0309f44f-fe5a-4de1-ba39-984f456130bd"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
             </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
     </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell"> --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
 --data-binary
 <span class="o">{</span>
     <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014121201"</span>,
     <span class="s2">"Customer"</span>: <span class="o">{</span>
         <span class="s2">"Name"</span>: <span class="s2">"Paulo Henrique"</span>
     <span class="o">}</span>,
     <span class="s2">"Payment"</span>: <span class="o">{</span>
         <span class="s2">"DebitCard"</span>: <span class="o">{</span>
             <span class="s2">"CardNumber"</span>: <span class="s2">"453211******3703"</span>,
             <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
             <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2015"</span>,
             <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
              <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
          <span class="o">}</span>,
          <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?{PaymentId}"</span>,
          <span class="s2">"Tid"</span>: <span class="s2">"1006993069207A31A001"</span>,
          <span class="s2">"PaymentId"</span>: <span class="s2">"0309f44f-fe5a-4de1-ba39-984f456130bd"</span>,
          <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
          <span class="s2">"Amount"</span>: 15700,
          <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
          <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
          <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
          <span class="s2">"Status"</span>: 0,
          <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
          <span class="s2">"Links"</span>: <span class="o">[</span>
              <span class="o">{</span>
                  <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                 <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                 <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
             <span class="o">}</span>
         <span class="o">]</span>
     <span class="o">}</span>
 <span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">AuthenticationUrl</code></td>
<td>URL to redirect the client to the debit flow.</td>
<td>Text</td>
<td>56</td>
<td>Authentication URL</td>
</tr>
<tr>
<td><code class="prettyprint">Tid</code></td>
<td>Transaction id in the acquirer.</td>
<td>Text</td>
<td>40</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnUrl</code></td>
<td>Url retailer&rsquo;s return. URL where the shopkeeper will be redirected at the end of the flow.</td>
<td>Text</td>
<td>1024</td>
<td>http://www.urllogista.com.br</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>0</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring the return code.</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
</tbody></table>

<h1 id="payments-with-electronic-transfer">Payments with Electronic Transfer</h1>

<h2 id="creating-a-simplified-sale">Creating a simplified sale</h2>

<p>To create an electronic transfer in a sale, it must do a POST to the Payment feature as shown. This sample includes a minimum courses required to be sent for authorization.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"EletronicTransfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.cielo.com.br"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
        <span class="s2">"Type"</span>:<span class="s2">"EletronicTransfer"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco"</span>,
        <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>
    <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Merchant Identifier in API</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public Key for Dual Authentication in the API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT</td>
<td>Guide</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Order ID number.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Customer Name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Payment Type.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Order Amount (to send in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Payment Provider Name/NOT MANDATORY FOR CREDIT.</td>
<td>Text</td>
<td>15</td>
<td>—</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="err">}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"765548b6-c4b8-4e2c-b9b9-6458dbd5da0a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EletronicTransfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Url"</span>: <span class="s2">"https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"765548b6-c4b8-4e2c-b9b9-6458dbd5da0a"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"EletronicTransfer"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 0,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">Url</code></td>
<td>URL to redirect the client to the flow of Electronic Transfer.</td>
<td>Text</td>
<td>256</td>
<td>Authentication Url</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>0</td>
</tr>
</tbody></table>

<h1 id="“boleto”-payment">“Boleto” Payment</h1>

<h2 id="creating-a-simplified-sale">Creating a simplified sale</h2>

<p>To create a sale with “boleto” payment method, you just need to make a POST as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Bradesco"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
        <span class="s2">"Type"</span>:<span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco"</span>
    <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Merchant Identifier in API.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Merchant Public key for Double authentication API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guide</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Merchant Order Identifier</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Customer Name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Payment Type.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Payment Amount (to send in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Payment Provider Name/NOT MANDATORY FOR CREDIT.</td>
<td>Text</td>
<td>15</td>
<td>—</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/post/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000012-8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00091628800000157000494250100000001200656560"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00090.49420 50100.000004 12006.565605 1 62880000015700"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Marechal Câmara, 160"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8464a692-b4bd-41e7-8003-1611a2b8ef2d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2014-12-25"</span>,
        <span class="s2">"Url"</span>: <span class="s2">"https://apisandbox.braspag.com.br/post/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"1000000012-8"</span>,
        <span class="s2">"BarCodeNumber"</span>: <span class="s2">"00091628800000157000494250100000001200656560"</span>,
        <span class="s2">"DigitableLine"</span>: <span class="s2">"00090.49420 50100.000004 12006.565605 1 62880000015700"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Av. Marechal Câmara, 160"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"8464a692-b4bd-41e7-8003-1611a2b8ef2d"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ExpirationDate</code></td>
<td>Expiration date.</td>
<td>Text</td>
<td>10</td>
<td>12.25.2014</td>
</tr>
<tr>
<td><code class="prettyprint">Url</code></td>
<td>“Boleto” Url generated.</td>
<td>string</td>
<td>256</td>
<td>https: //&hellip;/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d</td>
</tr>
<tr>
<td><code class="prettyprint">Number</code></td>
<td>&ldquo;OurNumber&rdquo; generated.</td>
<td>Text</td>
<td>50</td>
<td>1000000012-8</td>
</tr>
<tr>
<td><code class="prettyprint">BarCodeNumber</code></td>
<td>Numerical representation of barcode.</td>
<td>Text</td>
<td>44</td>
<td>00091628800000157000494250100000001200656560</td>
</tr>
<tr>
<td><code class="prettyprint">DigitableLine</code></td>
<td>Typeful line.</td>
<td>Text</td>
<td>256</td>
<td>00090.49420 50100.000004 12006.565605 1 62880000015700</td>
</tr>
<tr>
<td><code class="prettyprint">Address</code></td>
<td>Address shop.</td>
<td>Text</td>
<td>256</td>
<td>Av. Test 160</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>1</td>
</tr>
</tbody></table>

<h2 id="creating-a-“boleto”-complete-sale">Creating a “Boleto” complete sale</h2>

<p>To create a sale with “boleto” payment method, you just need to make a POST as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"BoletoNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desmonstrative Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-05"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
        <span class="s2">"Type"</span>:<span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"BoletoNumber"</span>: <span class="s2">"123"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Demonstrative"</span>: <span class="s2">"Desmonstrative Teste"</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2015-01-05"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>
    <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Merchant Identifier in API.</td>
<td>Guide</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public Key for Dual Authentication in the API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET / POST / PUT</td>
<td>Guide</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Order ID number.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Customer Name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Payment Type.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Order Amount (to send in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Payment Provider Name/ NOT MANDATORY FOR CREDIT..</td>
<td>Text</td>
<td>15</td>
<td>—</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Adress</code></td>
<td>Merchant Address.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.BoletoNumber</code></td>
<td>Payment Boleto Number (“Our Number”).</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Assignor</code></td>
<td>Payment Assignor</td>
<td>Text</td>
<td>200</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Demonstrative</code></td>
<td>Payment Demonstrative.</td>
<td>Text</td>
<td>450</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.ExpirationDate</code></td>
<td>Payment Expiration Date.</td>
<td>Date</td>
<td>10</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Identification</code></td>
<td>Payment Identificationdocument.</td>
<td>Text</td>
<td>14</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Instructions</code></td>
<td>Payment Instructions.</td>
<td>Text</td>
<td>450</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-05"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00096629900000157000494250000000012300656560"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2015-01-05"</span>,
        <span class="s2">"Url"</span>: <span class="s2">"https://apisandbox.braspag.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"123-2"</span>,
        <span class="s2">"BarCodeNumber"</span>: <span class="s2">"00096629900000157000494250000000012300656560"</span>,
        <span class="s2">"DigitableLine"</span>: <span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">Instructions</code></td>
<td>Boleto Instructions.</td>
<td>Text</td>
<td>450</td>
<td>Ex: Accepted only until the expiration date, after this date, you should charge an interest fee of 1% day.</td>
</tr>
<tr>
<td><code class="prettyprint">ExpirationDate</code></td>
<td>Expiration date.</td>
<td>Text</td>
<td>10</td>
<td>12.25.2014</td>
</tr>
<tr>
<td><code class="prettyprint">Url</code></td>
<td>Boleto Url generated.</td>
<td>string</td>
<td>256</td>
<td>Ex: https: //&hellip;/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d</td>
</tr>
<tr>
<td><code class="prettyprint">Number</code></td>
<td>&ldquo;OurNumber&rdquo; generated.</td>
<td>Text</td>
<td>50</td>
<td>Ex: 1000000012-8</td>
</tr>
<tr>
<td><code class="prettyprint">BarCodeNumber</code></td>
<td>Numerical representation of barcode.</td>
<td>Text</td>
<td>44</td>
<td>Eg 00091628800000157000494250100000001200656560</td>
</tr>
<tr>
<td><code class="prettyprint">DigitableLine</code></td>
<td>Typeful line.</td>
<td>Text</td>
<td>256</td>
<td>Eg 00090.49420 50100.000004 12006.565605 1 62880000015700</td>
</tr>
<tr>
<td><code class="prettyprint">Assignor</code></td>
<td>Seller&rsquo;s name.</td>
<td>Text</td>
<td>256</td>
<td>Ex: Store Test</td>
</tr>
<tr>
<td><code class="prettyprint">Address</code></td>
<td>Address of the Assignor.</td>
<td>Text</td>
<td>256</td>
<td>Ex: Av Test, 160.</td>
</tr>
<tr>
<td><code class="prettyprint">Identification</code></td>
<td>Seller&rsquo;s ID.</td>
<td>Text</td>
<td>14</td>
<td>CPF or CNPJ Assignor without special characters (, /, -.)</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>1</td>
</tr>
</tbody></table>

<h1 id="recurring-payments">Recurring payments</h1>

<h2 id="authorizing-the-first-recurrence">Authorizing the first recurrence</h2>

<p>To create a recurring sale whose first recurrence is authorized in the form of credit card payment, you just need to make a POST as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador accept"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"RecurrentPayment"</span><span class="p">:{</span><span class="w">
       </span><span class="s2">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"03/2019"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador accept"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"03/2019"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>6</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>The request identification number.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Buyer&rsquo;s name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Payment Method type.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Order value (to be sent in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number of installments.</td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.SoftDescriptor</code></td>
<td>Text to be printed on the carrier&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.RecurrentPayment.EndDate</code></td>
<td>Date to end the recurrence.</td>
<td>Text</td>
<td>10</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.RecurrentPayment.Interval</code></td>
<td>Recurrence interval.<ul><li>Monthly (Default)</li><li>Bimonthly</li><li>Quarterly</li><li>Semiannual</li><li>Annual</li></ul></td>
<td>Text</td>
<td>10</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.RecurrentPayment.AuthorizeNow</code></td>
<td>Boolean to know if the first recurrence will be authorized or not.</td>
<td>Boolean</td>
<td>-</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Buyer&rsquo;s card number.</td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Buyer&rsquo;s name printed on the card.</td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Date of expiration printed on the card.</td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Security code printed on the back of the card.</td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Card issuer.</td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03/2019"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-04"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador accept"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"03/2019"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-11-04"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Field identifier next recurrence.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">NextRecurrency</code></td>
<td>Date of next recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">EndDate</code></td>
<td>Date of the end of recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">Interval</code></td>
<td>Break between recurrence.</td>
<td>Text</td>
<td>10</td>
<td><ul><li>Bimonthly</li><li>Quarterly</li><li>Semiannual</li><li>Annual</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizeNow</code></td>
<td>Boolean to know if the first recurrence will be authorized or not.</td>
<td>Boolean</td>
<td>-</td>
<td>true or false</td>
</tr>
</tbody></table>

<h2 id="scheduling-a-credit-recurrence">Scheduling a credit recurrence</h2>

<p>To create a recurring sale whose first recurrence will not be allowed on the same date in for credit card payment, just make a POST as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v2/sales/</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Comprador accept"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Amount"</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"RecurrentPayment"</span><span class="p">:{</span><span class="w">
       </span><span class="s2">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"StartDate"</span><span class="p">:</span><span class="s2">"2015-06-01"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"03/2019"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request POST <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador accept"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"tst"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"false"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>,
       <span class="s2">"StartDate"</span>:<span class="s2">"2015-06-01"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"03/2019"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Buyer&rsquo;s name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Email</code></td>
<td>Email Buyer.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Birthdate</code></td>
<td>Date of purchaser birth.</td>
<td>Date</td>
<td>10</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Identity</code></td>
<td>RG number, CPF or CNPJ Client.</td>
<td>Text</td>
<td>14</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Street</code></td>
<td>Purchaser&rsquo;s address.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Number</code></td>
<td>Buyer&rsquo;s address number.</td>
<td>Text</td>
<td>15</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Complement</code></td>
<td>Complement address of the Purchaser.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.ZIP code</code></td>
<td>Purchaser’s Zip code address.</td>
<td>Text</td>
<td>9</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.City</code></td>
<td>Purchaser’s City address.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.State</code></td>
<td>Purchaser’ State address.</td>
<td>Text</td>
<td>2</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Country</code></td>
<td>Country of Purchaser’s address.</td>
<td>Text</td>
<td>35</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.District</code></td>
<td>Buyer&rsquo;s neighborhood.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Street</code></td>
<td>Purchaser&rsquo;s address.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Number</code></td>
<td>Buyer&rsquo;s address number.</td>
<td>Text</td>
<td>15</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Complement</code></td>
<td>Purchase Complement  address.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.ZIP code</code></td>
<td>Purchaser’s zip code address.</td>
<td>Text</td>
<td>9</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.City</code></td>
<td>Purchaser’s City address.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.State</code></td>
<td>State the address of the Purchaser.</td>
<td>Text</td>
<td>2</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Country</code></td>
<td>Parents of the address of the Purchaser.</td>
<td>Text</td>
<td>35</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.District</code></td>
<td>Buyer&rsquo;s neighborhood.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03/2019"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tst"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador accept"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"03/2019"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"SoftDescriptor"</span>: <span class="s2">"tst"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 20,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"StartDate"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">false</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Field identifier next recurrence.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">NextRecurrency</code></td>
<td>Date of next recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">StartDate</code></td>
<td>Date of onset of recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">EndDate</code></td>
<td>Date of the end of recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">Interval</code></td>
<td>Interval between recurrence.</td>
<td>Text</td>
<td>10</td>
<td><ul><li>Bimonthly</li><li>Quarterly</li><li>Semiannual</li><li>Annual</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizeNow</code></td>
<td>Boolean to know if the first recurrence will be authorized or not.</td>
<td>Boolean</td>
<td>-</td>
<td>true or false</td>
</tr>
</tbody></table>

<h2 id="modifying-buyer-information">Modifying buyer information</h2>

<p>To change the Recurrence buyer&rsquo;s data, you just need to make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Customer</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Customer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="s2">"customer@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="s2">"1999-12-12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Identity"</span><span class="p">:</span><span class="s2">"22658954236"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"Street"</span><span class="p">:</span><span class="s2">"Outra Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Complement"</span><span class="p">:</span><span class="s2">"AP 111"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="s2">"21241111"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"City"</span><span class="p">:</span><span class="s2">"Qualquer Lugar"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"State"</span><span class="p">:</span><span class="s2">"QL"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"District"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Customer"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Customer"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"customer@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1999-12-12"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"22658954236"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"174"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241140"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Outra Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 111"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241111"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Qualquer Lugar"</span>,
         <span class="s2">"State"</span>:<span class="s2">"QL"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>:<span class="s2">"Teste"</span>
      <span class="o">}</span>
   <span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Buyer&rsquo;s name.</td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Email</code></td>
<td>Email Buyer.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Birthdate</code></td>
<td>Date of purchase birth.</td>
<td>Date</td>
<td>10</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Identity</code></td>
<td>RG number, CPF or CNPJ Client.</td>
<td>Text</td>
<td>14</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Street</code></td>
<td>Purchaser&rsquo;s address.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Number</code></td>
<td>Buyer&rsquo;s address number.</td>
<td>Text</td>
<td>15</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Complement</code></td>
<td>Complement address of the purchaser.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.ZIP code</code></td>
<td>Zip code address of purchaser.</td>
<td>Text</td>
<td>9</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.City</code></td>
<td>City address of purchaser.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.State</code></td>
<td>Address State of the purchaser</td>
<td>Text</td>
<td>2</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.Country</code></td>
<td>Country address of purchaser.</td>
<td>Text</td>
<td>35</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Address.District</code></td>
<td>Buyer&rsquo;s neighborhood.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Street</code></td>
<td>Purchaser&rsquo;s address.</td>
<td>Text</td>
<td>255</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Number</code></td>
<td>Buyer&rsquo;s address number.</td>
<td>Text</td>
<td>15</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Complement</code></td>
<td>Complement address of purchaser.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.ZIP code</code></td>
<td>Zip code address of purchaser.</td>
<td>Text</td>
<td>9</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.City</code></td>
<td>City address of purchaser.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.State</code></td>
<td>State address of purchaser.</td>
<td>Text</td>
<td>2</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.Country</code></td>
<td>Country address of purchaser.</td>
<td>Text</td>
<td>35</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Deliveryaddress.District</code></td>
<td>Buyer&rsquo;s neighborhood.</td>
<td>Text</td>
<td>50</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="modifying-end-date-of-recurrence">Modifying end date of Recurrence</h2>

<p>To change the end date of recurrence, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/EndDate</span></aside>
<pre><code class="highlight json"><span class="s2">"2021-01-09"</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/EndDate"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="s2">"2021-01-09"</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Field Application Request identifier.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">EndDate</code></td>
<td>Date to end the recurrence.</td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="changing-number-of-recurrence-plots">Changing number of Recurrence plots</h2>

<p>To change the number of recurrence plots, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Installments</span></aside>
<pre><code class="highlight json"><span class="mi">3</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Installments"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
3
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Field Application Request identifier.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Installments</code></td>
<td>Number of installments.</td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="modifying-interval-of-recurrence">Modifying Interval of Recurrence</h2>

<p>To change the range of recurrence, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Interval</span></aside>
<pre><code class="highlight json"><span class="mi">6</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Interval"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
6
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Interval</code></td>
<td>Recurrence interval.<ul><li>Monthly</li><li>Bimonthly</li><li>Quarterly</li><li>Semiannual</li><li>Annual</li></ul></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="modify-the-date-of-recurrence">Modify the date of Recurrence</h2>

<p>To change the day of recurrence, just make a Put as shown.</p>

<aside class="notice"><strong>Rule:</strong> If the new day is informed after the present day, we will update the day of recurrence in effect at the next recurrence. Ex .: Today is 5, and the next day recurrence is 25/05. When I upgrade to 10th, the date of the next recurrence will be day 10 / 05. If the new day is informed before the present day, we will update the day of recurrence, but this is not be implemented until the next recurrence is successfully be executed. Ex .: Today is 5, and the next day recurrence is 25/05. When I upgrade to day 3, the date of the next recurrence remain day 25/05, and after it is executed, the next one is scheduled for 03/06. If the new day is informed before the actual day, but the next recurrence is in another month, we will update the day of recurrence in effect at the next recurrence. Ex .: Today is 5, and the next day recurrence is 25/09. When I upgrade to day 3, the date of the next recurrence will be 03/09.</aside>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay</span></aside>
<pre><code class="highlight json"><span class="mi">16</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
16
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrencyDay</code></td>
<td>Day Recurrence.</td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<h2 id="modify-the-value-of-recurrency">Modify the value of recurrency</h2>

<p>To modify the value of recurrency, you only need to do a Put, as the example.</p>

<p><strong>Request</strong></p>

<p>|PUT|1/RecurrentPayment/{RecurrentPaymentId}/Amount</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrencyDay</code></td>
<td>Value of the order in cents: 156 equals to R$ 1,56</td>
<td>Numeric</td>
<td>15</td>
<td>Yes</td>
</tr>
</tbody></table>

<aside class="warning">This adjustment only affect the payment date of the next recurrence.</aside>

<h3 id="response">Response</h3>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="modifying-the-date-of-the-next-payment">Modifying the date of the next payment</h2>

<p>To change the date of the next payment, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate</span></aside>
<pre><code class="highlight json"><span class="s2">"2016-06-15"</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="s2">"2016-06-15"</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">NextPaymentDate</code></td>
<td>Payment date of the next recurrence.</td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="modifying-the-payment-data-recurrence">Modifying the Payment data Recurrence</h2>

<p>To change the data of Recurrence payment, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Payment</span></aside>
<pre><code class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Amount"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Installments"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Country"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"test"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"CreditCard"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"Brand"</span><span class="p">:</span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Holder"</span><span class="p">:</span><span class="s2">"Teset card"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341232"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="s2">"05/2019"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Payment"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>  
   <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
   <span class="s2">"Amount"</span>:<span class="s2">"123"</span>,
   <span class="s2">"Installments"</span>:3,
   <span class="s2">"Country"</span>:<span class="s2">"USA"</span>,
   <span class="s2">"Currency"</span>:<span class="s2">"USD"</span>,
   <span class="s2">"SoftDescriptor"</span>:<span class="s2">"test"</span>,
   <span class="s2">"Provider"</span>:<span class="s2">"Simulado"</span>,
   <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
      <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>,
      <span class="s2">"Holder"</span>:<span class="s2">"Teset card"</span>,
      <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341232"</span>,
      <span class="s2">"ExpirationDate"</span>:<span class="s2">"05/2019"</span>
   <span class="o">}</span>
<span class="o">}</span>
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payments.Type</code></td>
<td>Payment Method type.</td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payments.Amount</code></td>
<td>Order value (to be sent in cents).</td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payments.Installments</code></td>
<td>Number of installments.</td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">Payments.SoftDescriptor</code></td>
<td>Text to be printed on the carrier&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Buyer&rsquo;s card number.</td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Buyer&rsquo;s name printed on the card.</td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Date of expiration printed on the card.</td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Security code printed on the back of the card.</td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Card issuer.</td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="disabling-a-request-recurring">Disabling a request Recurring</h2>

<p>To disable a recurring request, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Deactivate</span></aside>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Deactivate"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h2 id="rehabilitating-a-recurring-request">Rehabilitating a Recurring request</h2>

<p>To rehabilitate a recurring request, just make a Put as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}/Reactivate</span></aside>
<pre><code class="highlight shell">curl
--request PUT <span class="s2">"https://apisandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}/Reactivate"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Identification number of Recurrence.</td>
<td>Text</td>
<td>50</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight shell">HTTP Status 200
</code></pre>

<p>See Appendix <a href="#http-status-code">HTTP Status Code</a> to the list of all the HTTP status codes possibly returned by the API.</p>

<h1 id="consulting-sales">Consulting Sales</h1>

<h2 id="referring-to-a-sale">Referring to a sale</h2>

<p>For a sale with credit card, you must do a GET for Payment feature as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales/{PaymentId}</span></aside>
<pre><code class="highlight shell">curl
--request GET <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Payment identification number.</td>
<td>Text</td>
<td>36</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2021"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Sales Receipt number.</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization Code.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">Customer.Name</code></td>
<td>Text</td>
<td>255</td>
<td>Yes</td>
<td>Buyer&rsquo;s name.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Type</code></td>
<td>Text</td>
<td>100</td>
<td>Yes</td>
<td>Payment Method type.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Amount</code></td>
<td>Number</td>
<td>15</td>
<td>Yes</td>
<td>Order value (to be sent in cents).</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Provider</code></td>
<td>Text</td>
<td>15</td>
<td>Yes</td>
<td>Payment Method name.</td>
</tr>
<tr>
<td><code class="prettyprint">Payment.Installments</code></td>
<td>Number</td>
<td>2</td>
<td>Yes</td>
<td>Number of installments.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.CardNumber</code></td>
<td>Text</td>
<td>16</td>
<td>Yes</td>
<td>Buyer&rsquo;s card number.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Holder</code></td>
<td>Text</td>
<td>25</td>
<td>Yes</td>
<td>Buyer&rsquo;s name printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.ExpirationDate</code></td>
<td>Text</td>
<td>7</td>
<td>Yes</td>
<td>Date of expiration printed on the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.SecurityCode</code></td>
<td>Text</td>
<td>4</td>
<td>Yes</td>
<td>Security code printed on the back of the card.</td>
</tr>
<tr>
<td><code class="prettyprint">CreditCard.Brand</code></td>
<td>Text</td>
<td>10</td>
<td>Yes</td>
<td>Card issuer (Visa/Master/Amex/Elo/Aura/JCB/Diners/Discover).</td>
</tr>
</tbody></table>

<h2 id="referring-to-a-sale-by-the-store-identifier">Referring to a sale by the store identifier</h2>

<p>It’s not possible to consult directly a payment by the identifier sent from the store (MerchantOrderId), but you can get all the PaymentIds associated with the identifier.</p>

<p>For consult a sale using the store identifier, you must do a GET to refuse sales as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales?merchantOrderId={merchantOrderId}</span></aside>
<pre><code class="highlight shell">curls
--request GET <span class="s2">" https://apiquerysandbox.braspag.com.br/v2/sales?merchantOrderId={merchantOrderId}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantOrderId</code></td>
<td>Field Application Identifier in our Shop.</td>
<td>Text</td>
<td>36</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-06T10:13:39.42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T20:23:28.847"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
     <span class="s2">"Payments"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2015-04-06T10:13:39.42"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2014-12-19T20:23:28.847"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
</tbody></table>

<h2 id="referring-a-sale-with-fraud-analysis">Referring a sale with Fraud Analysis</h2>

<p>For a sale of credit card with antifraud, you must do a GET for Payment feature as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/sales/{PaymentId}</span></aside>
<pre><code class="highlight shell">curl
--request GET <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Payment identification number.</td>
<td>Text</td>
<td>36</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f381c0c4-2bf9-4de1-91e1-e9e1f11d0854"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411173454307"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"174"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"402400******2931"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2015"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930692625A01001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"FraudAnalisys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B^D^R"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77df250a-93ce-46a3-a224-a894b78ecd80"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"OrderId"</span>: <span class="s2">"f381c0c4-2bf9-4de1-91e1-e9e1f11d0854"</span>,
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"201411173454307"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@live.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Júpter"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"174"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 201"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"21241140"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"402400******2931"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2015"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"500000"</span>,
         <span class="s2">"Tid"</span>: <span class="s2">"10069930692625A01001"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"FraudAnalisys"</span>: <span class="o">{</span>
            <span class="s2">"ReasonCode"</span>: 100,
            <span class="s2">"Score"</span>: 42,
            <span class="s2">"Status"</span>: <span class="s2">"Accept"</span>,
            <span class="s2">"FactorCode"</span>: <span class="s2">"B^D^R"</span>
        <span class="o">}</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"77df250a-93ce-46a3-a224-a894b78ecd80"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
        <span class="s2">"Credentials"</span>: <span class="o">{}</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"ReasonCode"</span>: 0,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.braspag.com.br/v2/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ProofOfSale</code></td>
<td>Sales Receipt number.</td>
<td>Text</td>
<td>20</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">Tid</code></td>
<td>Transaction id in the acquirer.</td>
<td>Text</td>
<td>40</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">AuthorizationCode</code></td>
<td>Authorization Code.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">SoftDescriptor</code></td>
<td>Text to be printed on the carrier&rsquo;s invoice</td>
<td>Text</td>
<td>13</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">PaymentId</code></td>
<td>Field Application Identifier.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">Id</code></td>
<td>IDENTIFICATION Transaction in Antifraud.</td>
<td>Text</td>
<td>300</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">Status</code></td>
<td>Transaction Status.</td>
<td>Byte</td>
<td>-</td>
<td>2</td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalisys.ReasonCode</code></td>
<td>Analysis of the results.</td>
<td>Byte</td>
<td>-</td>
<td>Number:<ul><li>100 - Successful operation.</li><li>101 - There are one or more missed requests fields. Possible action: See the fields that are missing in AntiFraudResponse list.MissingFieldCollection. Resend the request with complete information.</li><li>102 - One or more request fields contain invalid data. Possible action: See the invalid fields in AntiFraudResponse list.InvalidFieldCollection. Resubmit the request with the correct information.</li><li>150 Failure in the general system. Possible action: wait a few minutes and try resending the request.</li><li>151 - The request was received, but time-out occurred on the server.This error does not include time-out between the client and the server. Possible action: Wait a few minutes and try resending the request.</li><li>152 The request was received, but was time-out. Possible action: Wait a few minutes and resubmit the request.</li><li>202 - Fraud Prevention refused the request because the card has expired. You can also receive this code if the expiration date does not coincide with the date on issuing bank file. If payment processor allows emission credits for expired cards, CyberSource does not limit this functionality. Possible action: Request a card or other payment method.</li><li>231 The account number is invalid. Possible action: Request a card or other payment method.</li><li>234 - There is a problem with the merchant setup. Possible action: Do not click. Please contact customer support to correct the configuration problem.</li><li>400 A fraud score exceeds its limit. Possible action: Review the customer&rsquo;s request.</li><li>480 The request was scheduled for review by Manager decision.</li><li>481 - The request was rejected by Manager decision</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalisys.FactorCode</code></td>
<td>Combination codes that indicate the score of the application. The codes are concatenated using the ^.</td>
<td>Text</td>
<td>100</td>
<td>Eg B ^ D ^ R ^ Z<ul><li>A - Excessive Change of Address.The customer has changed the billing address two or more times in the last six months.</li><li>B - BIN card or risk authorization. Risk factors are related to credit card and BIN / or card authorization checks.</li><li>C - High numbers of credit cards.The customer has used more than six numbers of credit cards in the past six months.</li><li>D - Impact of the e-mail address.The customer uses a free email provider or e-mail address is risky.</li><li>E - Positive list.The customer is in its positive list.</li><li>F - Negative list.The account number, address, email address or IP address for this purpose appears its negative list.</li><li>G - geolocation inconsistencies.The email client domain, phone number, billing address, shipping address or IP address is suspect.</li><li>H - excessive name changes.The customer changed its name twice or more in the past six months.</li><li>I - Internet inconsistencies.The IP address and e-mail domain are not consistent with the billing address.</li><li>N - Entrance meaningless. The customer name and address fields contain meaningless words or language.</li><li>The - obscenities. Customer data contains obscene words.</li><li>P - morphing identity.Various amounts of an identity element are attached to a different value of an identity element. For example, various telephone numbers are connected to a single account number.</li><li>Q - Inconsistencies phone.The customer&rsquo;s phone number is suspect.</li><li>R - risky Order.The transaction, the customer and the merchant show information correlated high risk.</li><li>T - Time Coverage.The client is attempting a purchase outside the expected time.</li><li>U - unverifiable address.The billing address or delivery can not be verified.</li><li>V - Velocity.The account number was used many times in the last 15 minutes.</li><li>W - marked as suspect.The billing address and delivery is similar to an address previously marked suspect.</li><li>Y - The address, city, state or country of billing and shipping addresses do not correlate.</li><li>Z - Invalid value. As the request contains an unexpected value, a default value has been replaced. Although the transaction can still be processed, examine the application carefully to detect abnormalities.</li></ul></td>
</tr>
<tr>
<td><code class="prettyprint">FraudAnalisys.Score</code></td>
<td>Total score calculated for the application.</td>
<td>Number</td>
<td>-</td>
<td>Number</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnCode</code></td>
<td>Acquiring the return code.</td>
<td>Text</td>
<td>32</td>
<td>Alphanumeric text</td>
</tr>
<tr>
<td><code class="prettyprint">ReturnMessage</code></td>
<td>Acquiring the return message.</td>
<td>Text</td>
<td>512</td>
<td>Alphanumeric text</td>
</tr>
</tbody></table>

<h2 id="referring-a-sale-recurrent">Referring a sale Recurrent</h2>

<p>For a Recurrence credit card, you must do a GET as shown.</p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/v2/RecurrentPayment/{RecurrentPaymentId}</span></aside>
<pre><code class="highlight shell">curl
--request GET <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--header <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
--verbose
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Mandatory</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MerchantId</code></td>
<td>Store identifier in API.</td>
<td>Guid</td>
<td>36</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">MerchantKey</code></td>
<td>Public key for Double Authentication in API.</td>
<td>Text</td>
<td>40</td>
<td>Yes</td>
</tr>
<tr>
<td><code class="prettyprint">RequestId</code></td>
<td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
<td>Guid</td>
<td>36</td>
<td>No</td>
</tr>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Recurrence field identifier.</td>
<td>Text</td>
<td>36</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6716406f-1cba-4c7a-8054-7e8988032b17"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-05"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-05"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight shell">--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
--data-binary
<span class="o">{</span>
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador accept"</span>
    <span class="o">}</span>,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
        <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"6716406f-1cba-4c7a-8054-7e8988032b17"</span>,
        <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-11-05"</span>,
        <span class="s2">"StartDate"</span>: <span class="s2">"2015-05-05"</span>,
        <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
        <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.braspag.com.br/v2/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Size</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">RecurrentPaymentId</code></td>
<td>Field identifier next recurrence.</td>
<td>Guid</td>
<td>36</td>
<td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
</tr>
<tr>
<td><code class="prettyprint">ReasonCode</code></td>
<td>Code of operation reason.</td>
<td>Byte</td>
<td>-</td>
<td>Number from 1 to 99</td>
</tr>
<tr>
<td><code class="prettyprint">ReasonMessage</code></td>
<td>Message of Operation reason.</td>
<td>Text</td>
<td>32</td>
<td>Successful</td>
</tr>
<tr>
<td><code class="prettyprint">NextRecurrency</code></td>
<td>Date of next recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">StartDate</code></td>
<td>Date of onset of recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">EndDate</code></td>
<td>Date of the end of recurrence.</td>
<td>Text</td>
<td>7</td>
<td>05/2019 (MM / YYYY)</td>
</tr>
<tr>
<td><code class="prettyprint">Interval</code></td>
<td>Interval between recurrence.</td>
<td>Text</td>
<td>10</td>
<td><ul><li>Bimonthly</li><li>Quarterly</li><li>Semiannual</li><li>Annual</li></ul></td>
</tr>
</tbody></table>

<h1 id="attachments">Attachments</h1>

<h2 id="list-of-providers">List of Providers</h2>

<h3 id="providers-for-invoice">Providers for invoice</h3>

<ul>
<li>Bradesco</li>
<li>Banco do Brasil</li>
</ul>

<h3 id="providers-for-electronic-transfer">Providers for electronic transfer</h3>

<ul>
<li>Bradesco</li>
<li>Banco do Brasil</li>
</ul>

<h2 id="status">Status</h2>

<p>Status returned by the API</p>

<table><thead>
<tr>
<th>Code</th>
<th>Payment Status</th>
<th>Payment Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>NotFinished</td>
<td>All</td>
<td>Failed to process the payment</td>
</tr>
<tr>
<td>1</td>
<td>Authorized</td>
<td>All</td>
<td>Suitable payment method to be captured or paid (Boleto)</td>
</tr>
<tr>
<td>2</td>
<td>PaymentConfirmed</td>
<td>All</td>
<td>Payment Confirmed and concluded</td>
</tr>
<tr>
<td>3</td>
<td>Denied</td>
<td>Credit Card and Debt/Eletronic transfer</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>Voided</td>
<td>All</td>
<td>Canceled Payment</td>
</tr>
<tr>
<td>11</td>
<td>Refunded</td>
<td>Credit Card and Debit</td>
<td>Payment Cancelled/Reversed</td>
</tr>
<tr>
<td>12</td>
<td>Pending</td>
<td>Credit Card and Debit/Eletronicll</td>
<td>Payment canceled for failure processing</td>
</tr>
<tr>
<td>13</td>
<td>Aborted</td>
<td>All</td>
<td>Payment canceled for failure processing</td>
</tr>
<tr>
<td>20</td>
<td>Scheduled</td>
<td>Credit card</td>
<td>Scheduled Recurrence</td>
</tr>
</tbody></table>

<h2 id="merchant-defined-data">Merchant Defined Data</h2>

<p>The table below lists all possible codes to be sent in MerchantDefinedData parameter and its type of information that must be filled.</p>

<table><thead>
<tr>
<th>Id</th>
<th>Given</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Customer made Log In</td>
<td>If the end user has logged on the site to buy, send: login it. Purchase was made as a visitor, send: &ldquo;Guest&rdquo;. If the sale was made directly by a third party, an agent for example, do not send the field</td>
<td>String</td>
</tr>
<tr>
<td>2</td>
<td>Customer is established there: #dias</td>
<td>Number of days</td>
<td>Number</td>
</tr>
<tr>
<td>3</td>
<td>Purchase Performed in (plots)</td>
<td>Number of installments</td>
<td>Number</td>
</tr>
<tr>
<td>4</td>
<td>Sale channel</td>
<td>Values: &ldquo;Call Center&rdquo; = carrier buying the phone &ldquo;Web&rdquo; = carrier buying the Web &ldquo;portal&rdquo; = an agent making the purchase for the customer &ldquo;Kiosk&rdquo; = Shopping in “mobile” kiosks = Purchases made on smartphone or tablet</td>
<td>String</td>
</tr>
<tr>
<td>5</td>
<td>Coupon Code/Discount</td>
<td>If the buyer is using coupon, send the coupon code</td>
<td>String</td>
</tr>
<tr>
<td>6</td>
<td>Last effected purchase</td>
<td>MM / DD / YYYY</td>
<td>Date</td>
</tr>
<tr>
<td>7</td>
<td>Affiliation</td>
<td>Name or dealer code or broker</td>
<td>String</td>
</tr>
<tr>
<td>8</td>
<td>Purchase attempts</td>
<td>Nr of times tried to make the payment request. Attempted different credit cards and / or other payments methods attempted. For the same application.</td>
<td>Number</td>
</tr>
<tr>
<td>9</td>
<td>Customer will withdraw the product in a store</td>
<td>Values: &ldquo;Yes&rdquo;, &ldquo;NOT&rdquo; In the case of agency, you will remove any voucher and / or physically ticket</td>
<td>String</td>
</tr>
<tr>
<td>10</td>
<td>Payment made by 3rd</td>
<td>Values &ldquo;YES&rdquo;, &ldquo;NO&rdquo; If the payer is present or not on the trip / package</td>
<td>String</td>
</tr>
<tr>
<td>11</td>
<td>Hotel Category</td>
<td>Values: 1, 2, 3, 4, 5 How many stars has the hotel</td>
<td>Number</td>
</tr>
<tr>
<td>12</td>
<td>Hotel Check-in date</td>
<td>MM / DD / YYYY</td>
<td>Date</td>
</tr>
<tr>
<td>13</td>
<td>Hotel check-out date</td>
<td>MM / DD / YYYY</td>
<td>Date</td>
</tr>
<tr>
<td>14</td>
<td>Travel / Package</td>
<td>Values: &ldquo;National&rdquo;, &ldquo;International&rdquo;, &ldquo;National / International&rdquo;</td>
<td>String</td>
</tr>
<tr>
<td>15</td>
<td>Cia name. Air / Rental Car / Hotel</td>
<td>Send the name of each company, separated by &ldquo;/&rdquo;</td>
<td>String</td>
</tr>
<tr>
<td>16</td>
<td>PNR</td>
<td>Send the PNR number of the reservation. When there is a change of booking for this PNR in advance of the flight date, it is important to make a new analysis of fraud by sending this PNR again.</td>
<td>String</td>
</tr>
<tr>
<td>17</td>
<td>There was anticipation of reservation?</td>
<td>Values &ldquo;YES&rdquo;, &ldquo;NO&rdquo; Indicate if there was rebooking the flight to an earlier date to the original. It is essential also to send the PNR field</td>
<td>String</td>
</tr>
<tr>
<td>18</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>19</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>20</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>21</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>22</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>23</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>24</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>25</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>26</td>
<td>Bin Credit Card</td>
<td>Send the bin - 6/1 digits of the card</td>
<td>String</td>
</tr>
<tr>
<td>27</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>28</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>29</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>30</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>31</td>
<td>Nr credit cards exchanges</td>
<td>Nr of times the buyer changed the credit card to make the payment request</td>
<td>Number</td>
</tr>
<tr>
<td>32</td>
<td>Email pasted or typed</td>
<td>Values: &ldquo;Entered,&rdquo; &ldquo;Stuck&rdquo; State whether the e-mail address is typed or pasted in the field</td>
<td>String</td>
</tr>
<tr>
<td>33</td>
<td>Nr pasted or typed Card</td>
<td>Values: &ldquo;Entered,&rdquo; &ldquo;Stuck&rdquo; State whether the nr credit card was typed or pasted in the field</td>
<td>String</td>
</tr>
<tr>
<td>34</td>
<td>Email confirmed</td>
<td>If there is routine e-mail confirmation for account activation. Values: &ldquo;Yes&rdquo;. If not, do not send the MDD</td>
<td>String</td>
</tr>
<tr>
<td>35</td>
<td>Customer type (local / tourist)</td>
<td>Values: &ldquo;Local&rdquo;, &ldquo;Tourist&rdquo;. Do not send the MDD in the case of not having this information</td>
<td>String</td>
</tr>
<tr>
<td>36</td>
<td>Use this card on purchases ($)</td>
<td>Inform whether it was used Card Present (Gift Card) in the purchase. Values: &ldquo;Yes&rdquo;. If not, do not send the MDD</td>
<td>String</td>
</tr>
<tr>
<td>37</td>
<td>Shipping Method</td>
<td>Values: &ldquo;Sedex&rdquo;, &ldquo;Sedex 10&rdquo;, &ldquo;Day 1&rdquo;, &ldquo;2 Days&rdquo;, &ldquo;Motoboy&rdquo;, &ldquo;Same Day&rdquo;, etc. If you have not sent, do not send the MDD</td>
<td>String</td>
</tr>
<tr>
<td>38</td>
<td>Number of Bina</td>
<td>Inform the nr of identification telephone with DDD</td>
<td>String</td>
</tr>
<tr>
<td>39</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>40</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>41 the 95</td>
<td>Free field</td>
<td>The fields are reserved for sending shopkeeper data as the business rule.</td>
<td>String</td>
</tr>
<tr>
<td>96</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>97</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>98</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>99</td>
<td>(reserved)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>100</td>
<td>Document</td>
<td>Document (CPG, RG, etc.)</td>
<td>String</td>
</tr>
</tbody></table>

<h2 id="http-status-code">HTTP Status Code</h2>

<table><thead>
<tr>
<th>HTTP Status Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>404</td>
<td>Resource Not Found</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<h2 id="error-codes">Error Codes</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Internal error</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>100</td>
<td>RequestId is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>101</td>
<td>MerchantId is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>102</td>
<td>Payment Type is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>103</td>
<td>Payment Type can only contain letters</td>
<td>Special characters not allowed</td>
</tr>
<tr>
<td>104</td>
<td>Customer Identity is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>105</td>
<td>Customer Name is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>106</td>
<td>Transaction ID is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>107</td>
<td>You must Provide CreditCard Number, Token or Alias</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>108</td>
<td>Amount must be greater or equal to zero</td>
<td>transaction value must be greater than &ldquo;0&rdquo;</td>
</tr>
<tr>
<td>109</td>
<td>Payment Currency is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>110</td>
<td>Invalid Payment Currency</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>111</td>
<td>Payment is required Country</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>112</td>
<td>Invalid Payment Country</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>113</td>
<td>Invalid Payment Code</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>114</td>
<td>The provided MerchantId is not in correct format</td>
<td>The merchantId sent is not a GUID</td>
</tr>
<tr>
<td>115</td>
<td>The provided MerchantId was not found</td>
<td>Merchant ID does not exist or belongs to another environment (Eg: Sandbox)</td>
</tr>
<tr>
<td>116</td>
<td>The provided MerchantId is blocked</td>
<td>locked store, contact the Cielo support</td>
</tr>
<tr>
<td>117</td>
<td>Credit Card Holder is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>118</td>
<td>Credit Card Number is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>119</td>
<td>At least one Payment is required</td>
<td>Node &ldquo;Payment&rdquo; unsent</td>
</tr>
<tr>
<td>120</td>
<td>Request IP not allowed. Check your IP White List</td>
<td>IP blocked for security reasons</td>
</tr>
<tr>
<td>121</td>
<td>Customer is required</td>
<td>Node &ldquo;Customer&rdquo; unsent</td>
</tr>
<tr>
<td>122</td>
<td>MerchantOrderId is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>123</td>
<td>Installments must be greater or equal to one</td>
<td>Number of installments should be greater than 1</td>
</tr>
<tr>
<td>124</td>
<td>Credit Card is Required</td>
<td>Sent field is empty or invalid</td>
</tr>
<tr>
<td>125</td>
<td>Credit Card Expiration Date is required</td>
<td>Sent field is empty or invalid</td>
</tr>
<tr>
<td>126</td>
<td>Credit Card Expiration Date is invalid</td>
<td>Sent field is empty or invalid</td>
</tr>
<tr>
<td>127</td>
<td>You must Provide CreditCard Number, Token or Alias</td>
<td>Credit card number is required</td>
</tr>
<tr>
<td>128</td>
<td>Card Number length exceeded</td>
<td>Number of card is greater than 16 digits</td>
</tr>
<tr>
<td>129</td>
<td>Affiliation not found</td>
<td>payment method not tied to store or invalid Provider</td>
</tr>
<tr>
<td>130</td>
<td>Could not get Credit Card</td>
<td>&mdash;</td>
</tr>
<tr>
<td>131</td>
<td>MerchantKey is required</td>
<td>Field sent is blank or invalid</td>
</tr>
<tr>
<td>132</td>
<td>MerchantKey is invalid</td>
<td>Merchantkey sent is not a valid</td>
</tr>
<tr>
<td>133</td>
<td>Provider is not supported for this Payment Type</td>
<td>Provider sent does not exist</td>
</tr>
<tr>
<td>134</td>
<td>FingerPrint length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>135</td>
<td>MerchantDefinedFieldValue length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>136</td>
<td>ItemDataName length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>137</td>
<td>ItemDataSKU length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>138</td>
<td>PassengerDataName length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>139</td>
<td>PassengerDataStatus length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>140</td>
<td>PassengerDataEmail length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>141</td>
<td>PassengerDataPhone length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>142</td>
<td>TravelDataRoute length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>143</td>
<td>TravelDataJourneyType length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>144</td>
<td>TravelLegDataDestination length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>145</td>
<td>TravelLegDataOrigin length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>146</td>
<td>SecurityCode length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>147</td>
<td>Street address length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>148</td>
<td>Address Number length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>149</td>
<td>Address Complement length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>150</td>
<td>Address ZipCode length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>151</td>
<td>Address City length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>152</td>
<td>Address State length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>153</td>
<td>Address Country length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>154</td>
<td>District Address length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>155</td>
<td>Customer Name length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>156</td>
<td>Customer Identity length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>157</td>
<td>Customer IdentityType length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>158</td>
<td>Customer Email length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>159</td>
<td>ExtraData Name length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>160</td>
<td>ExtraData Value length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>161</td>
<td>Instructions billet length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>162</td>
<td>Demostrative billet length exceeded</td>
<td>Data sent exceeds the field size</td>
</tr>
<tr>
<td>163</td>
<td>Return Url is required</td>
<td>return URL is not valid - not accepted paging or extensions (Eg .php) in the return URL</td>
</tr>
</tbody></table>

<h1 id="ref!">REF!</h1>

<p>|166|AuthorizeNow is required|&mdash;|
|167|Antifraud not configured|Antifraud not linked to the Merchant&rsquo;s registration |
|168|Recurrent Payment not found|Recurrence not found |
|169|Recurrent Payment is not active|Recurrence is not active. Execution paralyzed |
|170|Cartão Protegido not configured|protected card not linked to the Merchant&rsquo;s registration|
|171|Affiliation data not sent|Failure in processing the request - Please contact the Cielo support|
|172|Credential Code is required|Failed validation of sent accredited|
|173|Payment method is not enabled|Payment method not linked to the Merchant&rsquo;s registration|
|174|Card Number is required|Sent field is empty or invalid|
|175|EAN is required|Sent field is empty or invalid|
|176|Payment Currency is not supported|Sent field is empty or invalid|
|177|Card Number is invalid|Sent field is empty or invalid|
|178|EAN is invalid|Sent field is empty or invalid|
|179|The max number of installments allowed for recurring payment is 1|Sent field is empty or invalid|
|180|The provided Card PaymentToken was not found|Token do Cartão protegido não encontrado|
|181|The MerchantIdJustClick is not configured|Token blocked protected Card|
|182|Brand is required|Card Issuer unsent|
|183|Invalid customer bithdate|Date of birth or invalidates future|
|184|Request could not be empty|Failure in the request format. Check code sent|
|185|Brand is not supported by selected provider|Card issuer not supported by Cielo API|
|186|The selected provider does not support the options provided (Capture, Authenticate, Recurrent or Installments)|Payment method does not support the command sent|
|187|ExtraData Collection contains one or more duplicated names|&mdash;|
|188|Avs with CPF invalid|&mdash;|
|189|Avs with length of street exceeded|Data sent exceeds the field size|
|190|Avs with length of number exceeded|Data sent exceeds the field size|
|190|Avs with length of complement exceeded|Data sent exceeds the field size|
|191|Avs with length of district exceeded|Data sent exceeds the field size|
|192|Avs with zip code invalid|ZipCod sent is invalid|
|193|Split Amount must be greater than zero|Value for performing split should be greater than 0|
|194|Split Establishment is Required|SPLIT not enabled to register store|
|195|The PlataformId is required|Platform Validated not sent|
|196|DeliveryAddress is required|Required field not sent|
|197|Street is required|Required field not sent|
|198|Number is required|Required field not sent|
|199|ZipCode is required|Required field not sent|
|200|City is required|Required field not sent|
|201|State is required|Required field not sent|
|202|District is required|Required field not sent|
|203|Cart item Name is required|Required field not sent|
|204|Cart item Quantity is required|Required field not sent|
|205|Cart item type is required|Required field not sent|
|206|Cart item name length exceeded |Data sent exceeds the field size|
|207|Cart item description length exceeded |Data sent exceeds the field size|
|208|Cart item sku length exceeded |Data sent exceeds the field size|
|209|Shipping addressee sku length exceeded |Data sent exceeds the field size|
|210|Shipping data cannot be null|Required field not sent|
|211|WalletKey is invalid|Visa Checkout data invalid|
|212|Merchant Wallet Configuration not found|Visa Checkout not tied to merchant account|
|213|Credit Card Number is invalid|Credit card sent is invalid|
|214|Credit Card Holder Must Have Only Letters|Cardholder must not contain special characters|
|215|Agency is required in Boleto Credential|Required field not sent|
|216|Customer IP address is invalid|IP blocked for security reasons|
|300|MerchantId was not found|&mdash;|
|301|Request IP is not allowed|&mdash;|
|302|Sent MerchantOrderId is duplicated|&mdash;|
|303|Sent OrderId does not exist|&mdash;|
|304|Customer Identity is required|&mdash;|
|306|Merchant is blocked|&mdash;|
|307|Transaction not found|Transaction not found or does not exist in the environment. |
|308|Transaction not available to capture|Transaction can not be captured - Contact Cielo support |
|309|Transaction not available to void|Transaction can not be canceled - Contact Cielo support |
|310|Payment method doest not support this operation|Command sent not supported by the means of payment |
|311|Refund is not enabled for this merchant|Cancellation after 24 hours not released to the merchant |
|312|Transaction not available to refund|Recurring transaction not found or not available in the environment |
|313|Recurrent Payment not found|&mdash;|
|314|Invalid Integration|&mdash;|
|315|Can not change NextRecurrency with pending payment|&mdash;|
|316|Cannot set NextRecurrency to past date|Não é permitido alterada dada da recorrencia para uma data passada|
|317|Invalid Recurrency Day|&mdash;|
|318|No transaction found|&mdash;|
|319|Smart recurrency is not enabled|Recurrence not linked to the Merchant&rsquo;s registration |
|320|Can not Update Affiliation Because this Recurrency not Affiliation saved|&mdash;|
|321|Can not set EndDate to before next recurrency.|&mdash;|
|322|Zero Dollar Auth is not enabled|Zero Dollar not linked to the Merchant&rsquo;s registration |
|323|Bin Query is not enabled|Bins consultation not linked to the Merchant&rsquo;s registration |</p>

<h2 id="return-codes">Return Codes</h2>

<table><thead>
<tr>
<th>Return Codes</th>
<th>Definition</th>
<th>Meaning</th>
<th>Action</th>
<th>Allows retry</th>
</tr>
</thead><tbody>
<tr>
<td>00</td>
<td>Authorized transaction</td>
<td>Authorization approved</td>
<td>Authorization approved</td>
<td>no</td>
</tr>
<tr>
<td>000</td>
<td>Authorized transaction</td>
<td>Authorization approved</td>
<td>Authorization approved</td>
<td>no</td>
</tr>
<tr>
<td>01</td>
<td>Unauthorized transaction - Referred by the issuing bank.</td>
<td>Unauthorized transaction - Referred by the issuing bank.</td>
<td>Unauthorized transaction. Contact your issuing bank.</td>
<td>no</td>
</tr>
<tr>
<td>02</td>
<td>Consultation Cielo.Transação said.</td>
<td>Unauthorized transaction. Referred to by some rule of the bank.</td>
<td>Unauthorized transaction. Contact your issuing bank.</td>
<td>no</td>
</tr>
<tr>
<td>03</td>
<td>Error in registering the property code in the TEF configuration file</td>
<td>Denied transaction. Invalid establishment.</td>
<td>Unable to process the transaction.</td>
<td>no</td>
</tr>
<tr>
<td>04</td>
<td>Unauthorized transaction. Card blocked by the issuing bank.</td>
<td>Unauthorized transaction. Card blocked by the issuing bank.</td>
<td>Unauthorized transaction. Contact your issuing bank.</td>
<td>no</td>
</tr>
<tr>
<td>05</td>
<td>Unauthorized transaction. Defaulter card (Do not honor).</td>
<td>Unauthorized transaction. Unable to process the transaction. Issues related to security, default or carrier limit.</td>
<td>Unauthorized transaction. Contact your issuing bank.</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>06</td>
<td>Unauthorized transaction. Canceled card.</td>
<td>Unauthorized transaction. Unable to process the transaction. Card permanently canceled by the issuing bank.</td>
<td>Unable to process the transaction. Contact your issuing bank.</td>
<td>no</td>
</tr>
<tr>
<td>07</td>
<td>Denied transaction. Hold card special condition</td>
<td>Transaction not authorized by the rules of the issuing bank.</td>
<td>Unauthorized transaction. Contact your issuing bank</td>
<td>no</td>
</tr>
<tr>
<td>08</td>
<td>Unauthorized transaction. CVV2 Invalid</td>
<td>Unauthorised Transaction</td>
<td>Unauthorised Transaction.</td>
<td>no</td>
</tr>
<tr>
<td>11</td>
<td>Transaction authorized for cards issued overseas</td>
<td>Approved authorization</td>
<td>Authorization Approved</td>
<td>no</td>
</tr>
<tr>
<td>12</td>
<td>Invalid transaction, card error.</td>
<td>Unable to process the transaction. Ask the carrier to check the card data and try again.</td>
<td>Unable to process the transaction. Review the data and try again. If the error persists, please contact your issuing bank.</td>
<td>no</td>
</tr>
<tr>
<td>13</td>
<td>Invalid transaction amount</td>
<td>Unauthorised Transaction. Invalid value. Ask the carrier to review the value and try again. If the error persists, contact Cielo</td>
<td>Transaction not authorized. Invalid value. Do the transaction again confirming the data reported. If the error persists, contact the merchant.</td>
<td>no</td>
</tr>
<tr>
<td>14</td>
<td>Invalid Card</td>
<td>Unauthorised Transaction. Invalid card. Try using the Lhum Algorithm (Mod 10) to prevent unauthorized transactions for that reason.</td>
<td>Unauthorised Transaction. Invalid card. Do the transaction again confirming the data reported.</td>
<td>no</td>
</tr>
<tr>
<td>15</td>
<td>Bank issuer unavailable or nonexistent.</td>
<td>Unauthorized transaction. Issuing bank not available</td>
<td>Unable to process the transaction. Contact your issuing bank.</td>
<td>no</td>
</tr>
<tr>
<td>19</td>
<td>Do the transaction again or try again later.</td>
<td>We could not process the transaction. Do the transaction again or try again later. If the error persists, contact Cielo</td>
<td>We could not process the transaction. Do the transaction again or try again later. If the error persists contact the merchant</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>21</td>
<td>Cancellation not made. Transaction not found.</td>
<td>We could not process the cancellation. If the error persists, contact Cielo</td>
<td>We could not process the cancellation. Try again later. If the error persists, contact the merchant.</td>
<td>no</td>
</tr>
<tr>
<td>22</td>
<td>Invalid installment. Number of invalid installments.</td>
<td>Could not process the transaction. Number of invalid installments. If the error persists, contact Cielo</td>
<td>We could not process the transaction. Invalid value. Do the transaction again confirming the reported data. If the error persists, contact the merchant.</td>
<td>no</td>
</tr>
<tr>
<td>23</td>
<td>Value of the invalid provision.</td>
<td>Unable to process the transaction. Value of the invalid provision. If the error persists, contact Cielo</td>
<td>We could not process the transaction. Value of the invalid provision. Do the transaction again confirming the data reported. If the error persists, contact the merchant.</td>
<td>no</td>
</tr>
<tr>
<td>24</td>
<td>Number of invalid installments</td>
<td>. Unable to process the transaction. Number of invalid installments. If the error persists, contact Cielo</td>
<td>We could not process the transaction. Number of invalid installments. Do the transaction again confirming the reported data. If the error persists, contact the merchant.</td>
<td>no</td>
</tr>
<tr>
<td>25</td>
<td>Authorization application did not send the card number</td>
<td>Unable to process the transaction. Authorization request did not send the card number. If the error persists, contact Cielo</td>
<td>We could not process the transaction. Do the transaction again confirming the data reported. If the error persists, contact the merchant</td>
<td>Yes.; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>28</td>
<td>Archive temporarily unavailable.</td>
<td>We could not process the transaction. File unavailable. If the error persists, contact Cielo</td>
<td>We could not process the transaction.Please try again later</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>39</td>
<td>Error issuing bank</td>
<td>Unauthorised Transaction. Error in issuing bank.</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>43</td>
<td>Unauthorised Transaction. Blocked because of theft</td>
<td>Unauthorised Transaction. Blocked because of theft</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>51</td>
<td>Limit Exceeded/without balance.</td>
<td>Unauthorised Transaction. Exceeded limit/no balance.</td>
<td>Unauthorised Transaction. Contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>52</td>
<td>Card with invalid digit control.</td>
<td>We could not process the transaction. Card digit invalid control</td>
<td>Unauthorised Transaction. Do the transaction again confirming data.</td>
<td>No</td>
</tr>
<tr>
<td>53</td>
<td>Transaction not allowed. Invalid savings card</td>
<td>Transaction not allowed. Invalid card savings.</td>
<td>Could not process the transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>54</td>
<td>Expired Card</td>
<td>Unauthorised Transaction. Expired card</td>
<td>Unauthorised Transaction. Do the transaction again confirming data.</td>
<td>No</td>
</tr>
<tr>
<td>55</td>
<td>Unauthorized transaction. Invalid password</td>
<td>Unauthorised Transaction. Invalid password.</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>57</td>
<td>Transaction not allowed for the card</td>
<td>Unauthorized transaction. Transaction not allowed for the card.</td>
<td>Unauthorized transaction. Contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days; Visa recommends aims recommends not retry.</td>
</tr>
<tr>
<td>58</td>
<td>Transaction not allowed. Invalid payment option</td>
<td>Transaction not allowed. Invalid payment option. Review if the chosen payment option is enabled in the register</td>
<td>Unauthorised Transaction. Contact merchant.</td>
<td>No</td>
</tr>
<tr>
<td>59</td>
<td>Unauthorised Transaction. Suspected fraud</td>
<td>Transaction not authorized. Suspected fraud</td>
<td>Transaction not authorized. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>60</td>
<td>Unauthorised Transaction</td>
<td>Unauthorised Transaction. Try again. If the error persists, the holder should contact the issuing bank.</td>
<td>We could not process the transaction. Try again later. If the error persists, please contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>61</td>
<td>Visa issuing bank available</td>
<td>Unauthorised Transaction. Visa issuing bank available</td>
<td>Unauthorised Transaction. Try again. If the error persists, please contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>62</td>
<td>Unauthorised Transaction. Restricted card to domestic use</td>
<td>Unauthorized transaction. Restricted card to domestic use</td>
<td>Unauthorised Transaction.Contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>63</td>
<td>Unauthorised Transaction. Security breach</td>
<td>Transaction unauthorized. Security breach.</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>64</td>
<td>Unauthorised Transaction. Value below the minimum required by the issuing bank.</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>Unauthorised Transaction. Value below the minimum required by the issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>65</td>
<td>Unauthorised Transaction. Exceeded the number of transactions for the card.</td>
<td>Transaction not authorized. Exceeded the number of transactions for the card.</td>
<td>Transaction not authorized.Contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>70</td>
<td>Unauthorised Transaction. Limit Exceeded</td>
<td>Unauthorised Transaction. Exceeded limit/no balance.</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>75</td>
<td>Password locked. Exceeded card attempts.</td>
<td>Transaction not authorized</td>
<td>Your transaction may not be processed. Contact the Issuer of your card.</td>
<td>No</td>
</tr>
<tr>
<td>76</td>
<td>Cancellation not made. Issuing bank did not locate the original transaction</td>
<td>Cancellation not made. Issuing bank did not locate the original transaction</td>
<td>Cancellation not made. Contact the merchant.</td>
<td>No</td>
</tr>
<tr>
<td>77</td>
<td>Cancellation not made. It was located the original transaction</td>
<td>Cancellation not made. It was located the original transaction</td>
<td>Cancellation not made. Contact the merchant</td>
<td>No</td>
</tr>
<tr>
<td>78</td>
<td>Unauthorised Transaction. Blocked card, first use</td>
<td>Unauthorised Transaction. Card locked first use. Ask your carrier to unlock the card directly with your issuing bank.</td>
<td>Unauthorised Transaction. Contact your issuing bank and request the unlock card.</td>
<td>No</td>
</tr>
<tr>
<td>80</td>
<td>Unauthorised Transaction. Divergence on the date of transaction/payment</td>
<td>Unauthorised Transaction. Transaction date or date of the first invalid payment</td>
<td>Unauthorised Transaction. Do the transaction again confirming data.</td>
<td>No</td>
</tr>
<tr>
<td>82</td>
<td>Unauthorised Transaction. Invalid Card</td>
<td>Unauthorised Transaction. Invalid Card. Ask the carrier to review the data and try again.</td>
<td>Unauthorised Transaction. Do the transaction again confirming the data. If the error persists, please contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>83</td>
<td>Unauthorised Transaction. Error in control passwords</td>
<td>Unauthorized transaction. Error in control passwords</td>
<td>Unauthorized transaction. Do the transaction again confirming the data. If the error persists, please contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>97</td>
<td>Not amount allowed for this transaction.</td>
<td>Unauthorised Transaction. Not allowed value for this transaction.</td>
<td>Unauthorised Transaction. Not allowed value for this transaction.</td>
<td>no</td>
</tr>
<tr>
<td>89</td>
<td>Error in the transaction.</td>
<td>Transaction not authorized. Error in the transaction. The carrier must try again and if the error persists, contact the issuing bank.</td>
<td>Unauthorised Transaction. Error in the transaction. Please try again and if the error persists, please contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>91</td>
<td>Unauthorised Transaction. Issuing bank temporarily unavailable.</td>
<td>Unauthorised Transaction. Issuing bank temporarily unavailable.</td>
<td>Unauthorised Transaction. Issuing bank temporarily unavailable.Contact your issuing bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>92</td>
<td>Unauthorised Transaction. Exceeded communication time</td>
<td>Unauthorised Transaction. Exceeded communication time</td>
<td>Unauthorised Transaction. Temporarily unavailable communication. Contact the merchant</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>93</td>
<td>Unauthorised Transaction. Rule violation - Possible error in the register</td>
<td>Unauthorised Transaction.Rule violation - Possible error in the record</td>
<td>Your transaction can not be processed. Contact the merchant.</td>
<td>No</td>
</tr>
<tr>
<td>96</td>
<td>Processing failed.</td>
<td>Unable to process the transaction. Failure Cielo system. If the error persists, contact Cielo</td>
<td>Your transaction may not be processed, please try again later. If the error persists, contact the merchant</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>98</td>
<td>System/unavailable communication</td>
<td>Unauthorised Transaction. Without communication system transmitter. If general, check SITEF, GATEWAY and/or connectivity</td>
<td>Your Transaction can not be processed, please try again later. If the error persists, contact the merchant</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>99</td>
<td>System/unavailable communication</td>
<td>Unauthorised Transaction. Without communication system transmitter. Try later. Can be error in SITEF, please check</td>
<td>Your transaction may not be processed, please try again later. If the error persists, contact the merchant</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>999</td>
<td>System/unavailable communication</td>
<td>Unauthorised Transaction. Without communication system transmitter. Try later. Can be error in SITEF, please check</td>
<td>Your transaction may not be processed, please try again later. If the error persists, contact the merchant</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>AA</td>
<td>Timeout</td>
<td>Timeout in communication with the issuing bank. East carrier to try again, if the error persists is necessary that the carrier contact your issuing bank.</td>
<td>Time Exceeded in its communication with the issuing bank, try again later. If the error persists, contact your bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>AE</td>
<td>Try Later</td>
<td>Timeout in communication with the issuing bank. Guide the carrier to try again, if the error persists is necessary that the carrier contact your issuing bank.</td>
<td>Time Exceeded in its communication with the issuing bank, please try again later. If the error persists, contact your bank</td>
<td>Yes; Cielo recommends only 4 times in 16 days.</td>
</tr>
<tr>
<td>BM</td>
<td>Invalid Card</td>
<td>Unauthorised Transaction. Invalid card. Try using the Lhum Algorithm (Mod 10) to prevent unauthorized transactions for that reason.</td>
<td>Unauthorised Transaction. Invalid card. Do the transaction again confirming the reported data.</td>
<td>No</td>
</tr>
<tr>
<td>BV</td>
<td>Expired Card</td>
<td>Unauthorised Transaction. Overdue card</td>
<td>Unauthorised Transaction. Check the data and try again.</td>
<td>No</td>
</tr>
<tr>
<td>DA</td>
<td>Establishment Invalid 03</td>
<td>Unauthorised Transaction. Failure to communicate with the issuing bank. Guide the carrier to contact the issuing bank.</td>
<td>Unauthorised Transaction. Contact the issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>FA</td>
<td>Denied</td>
<td>Unauthorised Transaction Amex</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>FC</td>
<td>Call Amex</td>
<td>Unauthorized transaction. Guide the carrier to contact the issuing bank.</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>No</td>
</tr>
<tr>
<td>FD</td>
<td>Transaction denied. Retain special status card</td>
<td>Transaction not authorized by the rules of the issuing bank.</td>
<td>Unauthorised Transaction. Contact your issuing bank</td>
<td>no</td>
</tr>
<tr>
<td>FE</td>
<td>Unauthorised Transaction. Divergence on the date of transaction / payment</td>
<td>. Unauthorised Transaction. Transaction date or date of the first invalid payment</td>
<td>. Unauthorised Transaction. Redo the transaction confirming data.</td>
<td>No</td>
</tr>
<tr>
<td>FF</td>
<td>Cancellation OK</td>
<td>Cancellation Transaction authorized successfully</td>
<td>Cancellation Transaction authorized successfully</td>
<td>no</td>
</tr>
<tr>
<td>FG</td>
<td>CALL AMEX</td>
<td>Unauthorised Transaction. Orient the carrier to contact AmEx Call Center</td>
<td>Unauthorised Transaction. Contact AmEx Call Center.</td>
<td>No</td>
</tr>
<tr>
<td>FG</td>
<td>Call 08007285090</td>
<td>Unauthorised Transaction. Guide the carrier to contact AmEx Call Center AmEx</td>
<td>Unauthorised Transaction. Contact AmEx Call Center</td>
<td>No</td>
</tr>
<tr>
<td>JB</td>
<td>Transaction value Invalid</td>
<td>Unauthorised Transaction. Invalid value. Ask the carrier to review the value and try again. If the error persists, contact Cielo</td>
<td>Transaction not authorized. Invalid value. Redo the transaction confirming the reported data. If the error persists, contact the merchant.</td>
<td>No</td>
</tr>
<tr>
<td>KA</td>
<td>Transaction not allowed. Failure to validate the data.</td>
<td>Transaction not allowed. There was a failure to validate the data. Ask the carrier to review the data and try again. If the error persists, check the communication between virtual and Cielo shop</td>
<td>Transaction not allowed. There was a failure to validate the data. review the reported data and try again. If the error persists contact the Online Shop.</td>
<td>No</td>
</tr>
<tr>
<td>KB</td>
<td>Transaction not allowed. Selected incorrente option</td>
<td>Transaction not allowed. Selected the wrong option. Ask the carrier to review the data and try again. If the error persists must be verified communication between shop and Cielo</td>
<td>Transaction not allowed. Selected the wrong option. Try again. If the error persists contact the Online Shop.</td>
<td>No</td>
</tr>
<tr>
<td>KE</td>
<td>Unauthorised Transaction. Failure to validate the data.</td>
<td>Transaction unauthorized. Failure to validate the data. selected option is not enabled. Check the options available to the carrier.</td>
<td>Unauthorized transaction. Failure to validate the data. selected option is not enabled. Contact the shop.</td>
<td>No</td>
</tr>
<tr>
<td>N7</td>
<td>Unauthorised Transaction. Invalid security code.</td>
<td>Unauthorised Transaction. Security code is invalid. Orient the carrier correct the data and try again.</td>
<td>Unauthorised Transaction. Review the data and enter again.</td>
<td>No</td>
</tr>
<tr>
<td>R1</td>
<td>Unauthorised Transaction. defaulter card (Do not honor)</td>
<td>Unauthorised Transaction. Unable to process the transaction. Issues related to security, default or carrier limit</td>
<td>Unauthorised Transaction. Contact your issuing bank.</td>
<td>Only 4 times in 16 days.</td>
</tr>
<tr>
<td>U3</td>
<td>Transaction not allowed. Failure to validate the data.</td>
<td>Transaction not allowed. There was a failure to validate the data. Ask the carrier to review the data and try again. If the error persists, check the communication between virtual and Cielo shop</td>
<td>Transaction not allowed. There was a failure to validate the data. review the reported data and try again. If the error persists contact the Online Shop.</td>
<td>No</td>
</tr>
</tbody></table>

            </div>
            <div class="dark-box">
                <div class="lang-selector">
                    <a href="#" data-language-name="json">JSON</a>
                    <a href="#" data-language-name="shell">cURL</a>
                </div>
            </div>
        </div>
    </body>
    </html>
